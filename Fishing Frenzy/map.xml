<map proto="1.4.0">
<name>Fishing Frenzy</name>
<version>1.0.3</version>
<gamemode>koth</gamemode>
<objective>Capture and have control over the hills as long as possible!
Catch fish and score them into your scorebhox for additional points!</objective>
<authors>
    <author uuid="1aad55f7-2dea-4f22-85ca-ad9de3a78609" contribution="Map author and creator"/> <!-- Technodono -->
</authors>
<teams>
    <team id="blue" color="blue" max="24">Cod</team>
    <team id="red" color="red" max="24">Salmon</team>
</teams>
<rules>
    <rule>You should not enter the enemy team's spawns</rule>
</rules>
<broadcasts>
    <tip after="30s" every="3m">`e⚠  `7Remember: `6Fish can be scored at the scoreboxes for points!</tip>
	<tip after="0s" every="2m">`e⚠  `7Remember: `6Fish are rewarded for kills!</tip>
</broadcasts>
<score>
    <limit>750</limit>
    <box filter="only-red" region="red-depot">
        <redeemables>
            <item points="2">RAW_FISH</item>
        </redeemables>
    </box>
    <box filter="only-blue" region="blue-depot">
        <redeemables>
            <item points="2">RAW_FISH</item>
        </redeemables>
    </box>
</score>
<!-- Spawns -->
<spawns>
<!-- Fix me -->
    <spawn team="blue" kit="blue-kit" yaw="180">
        <regions>
            <union id="blue-spawns">
                <block id="blue-top">-171,15,52</block>
                <block id="blue-bottom">-118,15,52</block>
            </union>
        </regions>
    </spawn>
    <spawn team="red" kit="red-kit" yaw="0">
        <regions>
            <union id="red-spawns">
                <block id="red-top">-171,15,-150</block>
                <block id="red-bottom">-118,15,-150</block>
            </union>
        </regions>
    </spawn>
    <default>
        <regions yaw="-90">
            <cuboid min="-183,15,-47" max="-182,15,-50"/>
        </regions>
    </default>
</spawns>
<!-- Kits -->
<kits>
    <kit id="spawn">
        <item amount="1" name="`rKnife" slot="0" unbreakable="true">stone sword</item>
        <item slot="1" name="`rMusket" unbreakable="true">bow</item>
        <item slot="2" name="`a`oFisherman's Friend" material="fishing rod">
            <enchantment level="7">lure</enchantment>
        </item>
        <item slot="3" amount="1">golden apple</item>
        <item slot="8" amount="24">arrow</item>
        <leggings unbreakable="true" material="chainmail leggings"/>
        <potion amplifier="25" duration="2">damage resistance</potion>
        <!-- Important! gamemode -->
        <game-mode>adventure</game-mode>
    </kit>
    <kit id="blue-kit" parents="spawn">
        <helmet color="3C44AA" unbreakable="true">leather helmet</helmet>
        <chestplate color="ffd500" unbreakable="true">leather chestplate</chestplate>
        <boots color="7a7a7a" unbreakable="true" material="leather boots"/>
    </kit>
    <kit id="red-kit" parents="spawn">
        <helmet color="B02E26" unbreakable="true">leather helmet</helmet>
        <chestplate color="ffd500" unbreakable="true">leather chestplate</chestplate>
        <boots color="7a7a7a" unbreakable="true" material="leather boots"/>
    </kit>
</kits>
<!-- Filters -->
<filters>
    <team id="only-blue">blue</team>
    <team id="only-red">red</team>
    <not id="only-players">
        <any>
            <team>blue</team>
            <team>red</team>
        </any>
    </not>
    <any id="visual-blocks">
        <material>stained glass</material>
        <material>wool</material>
    </any>
</filters>
<!-- Regions -->
<regions>
    <!-- Portal Regions -->
        <cuboid id="red-depot" min="-159,16,13" max="-162,19,17"/>
        <cuboid id="blue-depot" min="-162,16,-110" max="-159,19,-114"/>
    <!-- first I blacklist areas that can be destroyed in any way or form -->
    <apply block="never" use="never">
        <region>
            <cuboid min="-oo,-oo,-oo" max="oo,oo,oo"/>
        </region>
    </apply>
    <apply enter="only-red" message="You may not enter the enemy's scorebox!">
        <region>
            <cuboid min="-159,16,10" max="-162,19,17"/>    
        </region>
    </apply>
    <apply enter="only-blue" message="You may not enter the enemy's scorebox!">
        <region>
            <cuboid min="-162,16,-107" max="-159,19,-114"/>    
        </region>
    </apply>
</regions>
<toolrepair>
    <tool>stone sword</tool>
    <tool>bow</tool>
    <tool>fishing rod</tool>
</toolrepair>
<!--- I hate item remove... soo many items to deal with -->
<itemremove>
    <item>leather helmet</item>
    <item>leather chestplate</item>
    <item>chainmail leggings</item>
    <item>leather boots</item>
    <item>golden apple</item>
    <item>arrow</item>  
</itemremove>
<itemkeep>
    <item>RAW_FISH</item>
</itemkeep>

<!-- Boring stuff -->
<portals>
    <!-- fast portals -->
    <portal region="red-depot" destination="red-bottom" yaw="@0"/>
    <portal region="blue-depot" destination="blue-bottom" yaw="@180"/>
    
</portals>
<disabledamage>
    <damage ally="true" self="false" enemy="false" other="false">block explosion</damage>
</disabledamage>
<timelock>on</timelock>
<respawn delay="2s" blackout="true"/>
<hunger>
    <depletion>off</depletion>
</hunger>
<killreward>
    <item amount="1">golden_apple</item>
    <item amount="8">arrow</item>
</killreward>
<killreward>
    <filter>
        <team>red</team>
    </filter>
    <item amount="1" damage="0">RAW_FISH</item>
</killreward>
<killreward>
    <filter>
        <team>blue</team>
    </filter>
    <item amount="1" damage="1">RAW_FISH</item>
</killreward>
<!-- Fun game mechnic stuff -->
<control-points capture-rule="lead" incremental="true" show-progress="true" capture-time="10s" points="1" required="false" neutral-state="true" visual-materials="visual-blocks"> 
    <control-point name="South Dock">
        <capture><cuboid min="-88,14,-10" max="-107,200,0"/></capture>
        <progress>
            <union>
                <cuboid min="-88,14,-22" max="-107,200,6"/>
            </union>
        </progress>
    </control-point>
    <control-point name="North Dock">
        <capture><cuboid min="-88,14,-97" max="-106,200,-87"/></capture>
        <progress>
                <cuboid min="-83,14,-102" max="-111,200,-82"/>
        </progress>
    </control-point>
    <control-point name="Center">
        <capture><cylinder base="-144,17,-49" radius="8" height="200"/></capture>
        <progress>
            <union>
                <cylinder id="center_point" base="-144,15,-49" radius="8" height="200"/>
            </union>
        </progress>
    </control-point>
</control-points>
</map>