<map proto="1.4.0">
<name>Royal Rumble</name>
<version>1.0.1</version>
<objective>Score 5 goals to win!</objective>
<authors>
    <author uuid="1aad55f7-2dea-4f22-85ca-ad9de3a78609"/> <!--  Technodono  -->
</authors>
<rules>
    <rule>Fall damage is disabled!</rule>
</rules>
<game>Flag Football</game>
<gamemode>ctf</gamemode>
<!--  Tips -->
<broadcasts>
    <tip after="0m" every="2m">Defend your back goal from your base by finding a goalkeeper bow in a chest!</tip>
	<tip after="30s" every="1m">Remeber, the back goal is worth 2 goals!</tip>
</broadcasts>
<!--  Teams and Kits  -->
<teams>
    <team id="red-team" color="dark red" max="15">Red</team>
    <team id="blue-team" color="blue" max="15">Blue</team>
</teams>
<kits>
    <kit id="spawn">
        <item slot="0" unbreakable="true">stone sword</item>
        <item slot="1" unbreakable="true">bow</item>
        <item slot="8" amount="16">arrow</item>
        <chestplate unbreakable="true">chainmail chestplate</chestplate>
        <boots unbreakable="true">chainmail boots</boots>
		<potion duration="-oo" amplifier="1">night_vision</potion>
    </kit>
	<kit id="obs">
	    <potion duration="-oo" amplifier="1">night_vision</potion>
    </kit>
    <kit id="red-kit" parents="spawn">
        <helmet color="ff0000" unbreakable="true">leather helmet</helmet>
        <leggings color="ff0000" unbreakable="true">leather leggings</leggings>
    </kit>
    <kit id="blue-kit" parents="spawn">
        <helmet color="004aff" unbreakable="true">leather helmet</helmet>
        <leggings color="004aff" unbreakable="true">leather leggings</leggings>
    </kit>
    <kit id="flag-pickup" force="true">
        <potion duration="oo" amplifier="2">speed</potion>
		<potion duration="oo" amplifier="1">resistance</potion>
    </kit>
    <kit id="reset-health" force="true">
        <potion duration="1" amplifier="0">speed</potion>
    </kit>
</kits>
<!--  Spawns and respawns  -->
<spawns>
    <spawn team="red-team" kit="red-kit" yaw="-90">
	    <region>
            <cuboid min="-83,8,-2" max="-82,8,3"/>
		</region>
    </spawn>
    <spawn team="blue-team" kit="blue-kit" yaw="90">
	    <region>
            <cuboid min="84,8,3" max="83,8,-2"/>
		</region>
    </spawn>
    <default kit="obs" yaw="0">
	    <region>
            <cuboid min="3,12,14" max="-3,13,17"/>
		</region>
    </default>
</spawns>
<!-- spawn region stuff   -->
<regions>
    <apply block="never">
        <everywhere />
    </apply>
	<!-- Enter -->
    <apply enter="only-blue" message="You may not enter the opposing team's spawn!">
        <region>
            <cuboid min="80,8,-6" max="85,18,7"/>
        </region>
    </apply>
    <apply enter="only-red" message="You may not enter the opposing team's spawn!">
        <region>
            <cuboid min="-80,8,7" max="-84,18,-6"/>
        </region>
    </apply>
	    <apply enter="red-flag" message="Hey! You're going the wrong way!">
        <region>
            <rectangle min="29,-oo" max="oo,oo"/>
        </region>
    </apply>
	    <apply enter="blue-flag" message="Hey! You're going the wrong way!">
        <region>
            <rectangle min="-oo,-oo" max="-28,oo"/>
        </region>
    </apply>
	<apply message="You may not score on yourself!" region="rpf" enter="only-red"/>
	<apply message="You may not score on yourself!" region="rpb" enter="only-red"/>
	<apply message="You may not score on yourself!" region="bpf" enter="only-blue"/>
	<apply message="You may not score on yourself!" region="bpb" enter="only-blue"/>
	<!-- Goal pads -->
	<!--  Red front  -->
	<apply velocity="3.5,1,0" region="red_pad_front" filter="red-flag"/>
	<!--  Red back  -->
	<apply velocity="2,1.2,0" region="red_pad_back" filter="red-flag"/>
	<!--  blue front  -->
	<apply velocity="-3.5,1,0" region="blue_pad_front" filter="blue-flag"/>
	<!--  blue back  -->
	<apply velocity="-2,1.2,0" region="blue_pad_back" filter="blue-flag"/>
	<!--  Goal regions  -->
	<cuboid id="blue_pad_back" min="-59,8,-5" max="-61,9,-8"/>
	<cuboid id="blue_pad_front" min="-36,8,9" max="-39,9,6"/>
	<cuboid id="red_pad_back" min="60,8,6" max="63,9,9"/>
	<cuboid id="red_pad_front" min="37,8,-8" max="40,9,-5"/>
	<rectangle id="bpb" min="-59,-5" max="-61,-8"/>
	<rectangle id="bpf" min="-36,9" max="-39,6"/>
	<rectangle id="rpb" min="60,6" max="63,9"/>
	<rectangle id="rpf" min="37,-8" max="40,-5"/>
	<cuboid id="red-ring-front" min="-48,12,9" max="-49,15,6"/>
	<cuboid id="red-ring-back" min="-69,15,6" max="-70,18,-8"/>
	<cuboid id="blue-ring-front" min="49,12,-8" max="50,15,-5"/>
	<cuboid id="blue-ring-back" min="70,15,6" max="71,18,9"/>
	<!--  Portal regions  -->
	<block id="g-red">-38,8,-13</block>
	<block id="t-red">-38,15,-13</block>
	<block id="g-blue">38,8,13</block>
	<block id="t-blue">38,15,13</block>
	
	<!--  Jumpads and Boost lanes  -->
</regions>
<portals>
    <!-- portals to ref chairs -->
    <portal region="g-red" destination="t-red"/>
    <portal region="g-blue" destination="t-blue"/>
	<portal region="t-red" destination="g-red"/>
    <portal region="t-blue" destination="g-blue"/>
</portals>
<!--  Filters  -->
<filters>
    <not id="no-flag">
		<same-team>
			<carrying-flag>flag</carrying-flag>
		</same-team>
	</not>
	<carrying-flag id="has-flag">flag</carrying-flag>
	<team id="only-blue">blue-team</team>
    <team id="only-red">red-team</team>
	<all id="blue-no-flag">
	    <not>
            <carrying-flag>flag</carrying-flag>
	    </not>
	    <team>blue-team</team>
	</all>
		<all id="blue-flag">
        <carrying-flag>flag</carrying-flag>
	    <team>blue-team</team>
	</all>
	<all id="red-flag">
        <carrying-flag>flag</carrying-flag>
	    <team>red-team</team>
	</all>
	<all id="red-no-flag">
	    <not>
            <carrying-flag>flag</carrying-flag>
	    </not>
	    <team>red-team</team>
	</all>
</filters>

<!--  Tools and Misc item stuff  -->
<toolrepair>
    <tool>stone sword</tool>
    <tool>bow</tool>
</toolrepair>
<itemremove>
	<item>leather helmet</item>
	<item>leather leggings</item>
	<item>chainmail boots</item>
	<item>chainmail chestplate</item>
	<item>cooked beef</item>
	<item>arrow</item>
	<item>golden apple</item>
</itemremove>
<disabledamage>
	<!-- Disable fall damage -->
    <damage>fall</damage>
</disabledamage>
<hunger>
	<depletion>off</depletion>
</hunger>
<!-- Keep it at night -->
<timelock>on</timelock>
<!-- Scoring and Flag settings  -->
<killreward>
    <item amount="6">arrow</item>
	<item amount="1">golden apple</item>
</killreward>
<flags>
    <post id="post" return-time="10s" respawn-time="10s">
		<block>0,11,0</block>
    </post>
	<net points="1" region="red-ring-front" capture-filter="only-blue"/>
	<net points="2" region="red-ring-back" capture-filter="only-blue"/>
    <net points="1" region="blue-ring-front" capture-filter="only-red"/>
    <net points="2" region="blue-ring-back" capture-filter="only-red"/>
    <flag id="flag" name="Flag" color="purple" shared="true" post="post" pickup-kit="flag-pickup" drop-kit="reset-health"/>
</flags>
<time>10m</time>
<score/>
</map>
