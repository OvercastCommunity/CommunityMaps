<map proto="1.5.0">
<name>Mame, I Shrunk the PvPers</name>
<variant id="halloween" world="halloween" override="true">Mame, I Shrunk the Goblins</variant>
<version>1.2.7</version>
<include id="gapple-kill-reward"/>
<objective>Capture both of the enemy's wools, and buy upgrades from the villagers to help you do so!</objective>
<if variant="default">
    <created>2023-02-01</created>
</if>
<if variant="halloween">
    <created>2023-09-13</created>
</if>
<gamemode>ctw</gamemode>
<authors>
    <author uuid="6863869b-4b8c-4445-b778-a8e016775ae4" contribution="Layout, theming, XML"/> <!-- Cazadorian -->
    <author uuid="b2539be1-8f98-4375-b653-9d91cd04c30e" contribution="Aesthetics, theming"/> <!-- Mewzzy -->
    <author uuid="ec5ec930-5cf3-4f8a-ad9f-09056aeed71b" contribution="Aesthetics, layout"/> <!-- Tundren -->
</authors>
<contributors>
    <contributor uuid="430ec559-364a-4363-ac7a-2529050440ac" contribution="Let me use this memey name"/> <!-- mameBT -->
    <contributor uuid="1aad55f7-2dea-4f22-85ca-ad9de3a78609" contribution="Misc aesthetics"/> <!-- Technodono -->
    <contributor uuid="e82603df-417d-4a95-bd1f-1720648be0b4" contribution="Revamp &amp; modernize XML"/> <!-- Pablete1234 -->
</contributors>
<constants>
    <constant id="observers-kit" delete="true"/>
</constants>
<if variant="halloween">
    <constant id="observers-kit">default-kit</constant>
</if>
<teams>
    <unless variant="halloween">
        <team id="blue" color="blue" max="32">Blue</team>
        <team id="red" color="red" max="32">Red</team>
    </unless>
    <if variant="halloween">
        <team id="blue" color="dark purple" max="32">Purple</team>
        <team id="red" color="gold" max="32">Orange</team>
    </if>
</teams>
<broadcasts>
    <alert after="5s">Buy upgrades with Gold Nuggets, earned from kills, mining, and the middle spawners!</alert>
    <tip after="5m" every="5m">Buy upgrades with Gold Nuggets, earned from kills, mining, and the middle spawners!</tip>
</broadcasts>
<spawns>
    <default kit="${observers-kit}">
        <regions>
            <point>-5.5,33,222.5</point>
        </regions>
    </default>
    <spawn team="blue" kit="spawn-kit" yaw="90">
        <regions>
            <if variant="default">
                <point>136.5,14,336.5</point>
            </if>
            <if variant="halloween">
                <point>137.5,14,336.5</point>
            </if>
        </regions>
    </spawn>
    <spawn team="red" kit="spawn-kit" yaw="-90">
        <regions>
            <if variant="default">
                <point>-147.5,14,336.5</point>
            </if>
            <if variant="halloween">
                <point>-148.5,14,336.5</point>
            </if>
        </regions>
    </spawn>
</spawns>
<kits>
    <kit id="default-kit">
        <effect>night vision</effect>
    </kit>
    <kit id="spawn-kit">
        <item slot="0" material="stone sword" unbreakable="true"/>
        <item slot="1" unbreakable="true" material="bow"/>
        <item slot="2" unbreakable="true" material="stone pickaxe"/>
        <item slot="3" unbreakable="true" material="stone axe"/>
        <item slot="4" material="wood" amount="64"/>
        <item slot="5" material="stained glass" team-color="true" amount="32"/>
        <item slot="7" material="golden apple"/>
        <item slot="8" material="water bucket"/>
        <item slot="28" material="arrow" amount="24"/>
        <item slot="29" unbreakable="true" material="stone spade"/>
        <helmet unbreakable="true" team-color="true" material="leather helmet" locked="true"/>
        <chestplate unbreakable="true" team-color="true" material="leather chestplate" locked="true"/>
        <leggings unbreakable="true" team-color="true" material="leather leggings" locked="true"/>
        <boots unbreakable="true" team-color="true" material="leather boots" locked="true"/>
        <effect duration="3" amplifier="255">damage resistance</effect>
        <if variant="halloween">
            <effect>night vision</effect>
        </if>
    </kit>
    <!-- Upgrades -->
    <give filter="all(alive,haste=1)">
        <kit>
            <effect>fast digging</effect>
        </kit>
    </give>
    <give filter="all(alive,haste=2)">
        <kit>
            <effect amplifier="2">fast digging</effect>
        </kit>
    </give>
    <give filter="all(alive,speed=1)">
        <kit>
            <effect>speed</effect>
        </kit>
    </give>
    <lend filter="apply-fatigue">
        <kit>
            <effect>slow digging</effect>
        </kit>
    </lend>
    <lend filter="all(in-enemy-side,healthboost=1)">
        <kit>
            <effect>health boost</effect>
            <effect duration="5s">regeneration</effect> <!-- 1 heart over 5s -->
        </kit>
    </lend>
    <lend filter="all(in-enemy-side,healthboost=2)">
        <kit>
            <effect amplifier="2">health boost</effect>
            <effect duration="10s">regeneration</effect><!-- 2 hearts over 10s -->
        </kit>
    </lend>
    <!-- Individual Armor -->
    <kit id="chainmailhelmet-kit" force="true">
        <helmet unbreakable="true" locked="true" material="chainmail helmet"/>
        <action id="protection-replacements"/>
    </kit>
    <kit id="ironhelmet-kit" force="true">
        <helmet unbreakable="true" locked="true" material="iron helmet"/>
        <action id="protection-replacements"/>
    </kit>
    <kit id="diamondhelmet-kit" force="true">
        <helmet unbreakable="true" locked="true" material="diamond helmet"/>
        <action id="protection-replacements"/>
    </kit>
    <kit id="chainmailchestplate-kit" force="true">
        <chestplate unbreakable="true" locked="true" material="chainmail chestplate"/>
        <action id="protection-replacements"/>
    </kit>
    <kit id="ironchestplate-kit" force="true">
        <chestplate unbreakable="true" locked="true" material="iron chestplate"/>
        <action id="protection-replacements"/>
    </kit>
    <kit id="diamondchestplate-kit" force="true">
        <chestplate unbreakable="true" locked="true" material="diamond chestplate"/>
        <action id="protection-replacements"/>
    </kit>
    <!-- Halloween Goodies-->
    <if variant="halloween">
        <kit id="festivefirework" deduct-items="false">
            <firework power="1">
                <explosion type="creeper" flicker="true" trail="true">
                    <color>ffa500</color>
                    <color>aa00aa</color>
                    <fade>000000</fade>
                </explosion>
            </firework>
        </kit>
        <kit id="horsemanhorse" deduct-items="false">
            <item material="saddle"/>
            <item material="monster egg" damage="100"/>
        </kit>
    </if>
</kits>
<actions>
    <!-- Upgrade variables -->
    <set id="add-haste" var="haste" value="haste+1" scope="player"/>
    <set id="add-speed" var="speed" value="speed+1" scope="player"/>
    <set id="add-sharpness" var="sharpness" value="sharpness+1" scope="player"/>
    <set id="add-protection" var="protection" value="protection+1" scope="player"/>
    <set id="add-fatigue" var="fatigue" value="fatigue+1" scope="player"/>
    <set id="add-healthboost" var="healthboost" value="healthboost+1" scope="player"/>
    <!-- Weapon Upgrades -->
    <action id="diamond-sword-kit" scope="player">
        <replace-item ignore-metadata="true">
            <find material="stone sword"/>
            <replace material="air"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron sword"/>
            <replace material="air"/>
        </replace-item>
        <kit deduct-tools="false">
            <item material="diamond sword" unbreakable="true"/>
        </kit>
        <action id="sharpness-replacements"/>
    </action>
    <action id="powerbow" scope="player">
        <replace-item>
            <find material="bow" unbreakable="true"/>
            <replace material="air"/>
        </replace-item>
        <kit deduct-tools="false">
            <item material="bow" enchantment="power" unbreakable="true"/>
        </kit>
    </action>
    <action id="powerinfinitybow" scope="player">
        <replace-item>
            <find material="bow" unbreakable="true"/>
            <replace material="air"/>
        </replace-item>
        <kit deduct-tools="false">
            <item material="bow" enchantment="power:1;infinity" unbreakable="true"/>
        </kit>
    </action>
    <!-- Sharpness replacements -->
    <action id="ironsword-replacement" scope="player">
        <replace-item ignore-metadata="true">
            <find material="stone sword"/>
            <replace material="iron sword"/>
        </replace-item>
        <action id="sharpness-replacements"/>
    </action>
    <action id="sharpness-replacements" scope="player">
        <enchant-item ignore-metadata="true" enchantment="sharpness" level="sharpness"><find material="wood sword"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="sharpness" level="sharpness"><find material="stone sword"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="sharpness" level="sharpness"><find material="iron sword"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="sharpness" level="sharpness"><find material="diamond sword"/></enchant-item>
    </action>
    <trigger filter="alive" action="sharpness-replacements" scope="player"/>
    <!-- Team Armors -->
    <set id="set-armor-chainmail" var="armor" value="1" scope="player"/>
    <action id="set-armor-iron" scope="player">
        <set var="ironsword" value="1" scope="player"/>
        <set var="armor" value="2" scope="player"/>
    </action>
    <set id="set-armor-diamond" var="armor" value="3" scope="player"/>
    <!-- Team Armor replacements -->
    <kit id="chainmail-teamreplace" force="true">
        <boots material="chainmail boots" unbreakable="true" locked="true"/>
        <leggings material="chainmail leggings" unbreakable="true" locked="true"/>
        <action id="protection-replacements"/>
    </kit>
    <kit id="iron-teamreplace" force="true">
        <boots material="iron boots" unbreakable="true" locked="true"/>
        <leggings material="iron leggings" unbreakable="true" locked="true"/>
        <action id="protection-replacements"/>
    </kit>
    <kit id="diamond-teamreplace" force="true">
        <boots material="diamond boots" unbreakable="true" locked="true"/>
        <leggings material="diamond leggings" unbreakable="true" locked="true"/>
        <action id="protection-replacements"/>
    </kit>
    <!-- Protection replacements -->
    <action id="protection-replacements" scope="player">
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="leather boots"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="chainmail boots"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="iron boots"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="diamond boots"/></enchant-item>

        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="leather leggings"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="chainmail leggings"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="iron leggings"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="diamond leggings"/></enchant-item>

        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="leather chestplate"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="chainmail chestplate"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="iron chestplate"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="diamond chestplate"/></enchant-item>

        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="leather helmet"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="chainmail helmet"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="iron helmet"/></enchant-item>
        <enchant-item ignore-metadata="true" enchantment="protection" level="protection"><find material="diamond helmet"/></enchant-item>
    </action>
    <!-- Starting tool deletion replacements -->
    <replace-item id="stonesworddelete" ignore-metadata="true">
        <find material="stone sword" unbreakable="true"/>
        <replace material="air"/>
    </replace-item>
    <replace-item id="stonepickdelete" ignore-metadata="true">
        <find material="stone pickaxe" unbreakable="true"/>
        <replace material="air"/>
    </replace-item>
    <replace-item id="stoneaxedelete" ignore-metadata="true">
        <find material="stone axe" unbreakable="true"/>
        <replace material="air"/>
    </replace-item>
    <replace-item id="stonespadedelete" ignore-metadata="true">
        <find material="stone spade" unbreakable="true"/>
        <replace material="air"/>
    </replace-item>
    <!-- Upgrade alerts -->
    <message id="sharpness-alert-1" text="`bYour sword has been upgraded to `4`lSharpness I`r`b!"/>
    <trigger filter="sharpness=1" trigger="sharpness-alert-1" scope="player"/>
    <message id="protection-alert-1" text="`bYour armor has been upgraded to `9`lProtection I`r`b!"/>
    <trigger filter="protection=1" trigger="protection-alert-1" scope="player"/>
    <message id="haste-alert-1" text="`bYour team now has `e`lHaste I`r`b!"/>
    <trigger filter="haste=1" trigger="haste-alert-1" scope="player"/>
    <message id="haste-alert-2" text="`bYour team now has `e`lHaste II`r`b!"/>
    <trigger filter="haste=2" trigger="haste-alert-2" scope="player"/>
    <message id="speed-alert-1" text="`bYour team now has `9`lSpeed I`r`b!"/>
    <trigger filter="speed=1" trigger="speed-alert-1" scope="player"/>
    <message id="fatigue-alert-1" text="`bYour team's base now has a `7`lMining Fatigue Trap`r`b!"/>
    <trigger filter="fatigue=1" trigger="fatigue-alert-1" scope="player"/>
    <message id="kit-alert-1" text="`bYour team's kit has been upgraded to `7`lChainmail`r`b!"/>
    <trigger filter="armor=1" trigger="kit-alert-1" scope="player"/>
    <message id="kit-alert-2" text="`bYour team's kit has been upgraded to `f`lIron`r`b!"/>
    <trigger filter="armor=2" trigger="kit-alert-2" scope="player"/>
    <message id="kit-alert-3" text="`bYour team's kit has been upgraded to `b`lDiamond`r`b!"/>
    <trigger filter="armor=3" trigger="kit-alert-3" scope="player"/>
    <!-- Enchantment triggers -->
    <trigger filter="apply-ironsword" trigger="ironsword-replacement" scope="player"/>
    <trigger filter="upgraded-sword" trigger="stonesworddelete" scope="player"/>
    <trigger filter="upgraded-pick" trigger="stonepickdelete" scope="player"/>
    <trigger filter="upgraded-axe" trigger="stoneaxedelete" scope="player"/>
    <trigger filter="upgraded-spade" trigger="stonespadedelete" scope="player"/>
    <trigger filter="all(alive,sharpness=1)" trigger="sharpness-replacements" scope="player"/>
    <trigger filter="all(alive,protection=1)" trigger="protection-replacements" scope="player"/>
    <!-- Armor triggers -->
    <trigger filter="all(alive,armor=1)" trigger="chainmail-teamreplace" scope="player"/>
    <trigger filter="all(alive,armor=2)" trigger="iron-teamreplace" scope="player"/>
    <trigger filter="all(alive,armor=3)" trigger="diamond-teamreplace" scope="player"/>
    <!-- Nugget rewards -->
    <trigger scope="match">
        <filter>
            <pulse period="15m" duration="0.5s" filter="match-running"/>
        </filter>
        <action>
            <set var="nuggets" value="nuggets+1" scope="match"/>
        </action>
    </trigger>
</actions>
<variables>
    <variable id="haste" scope="team"/>
    <variable id="speed" scope="team"/>
    <variable id="ironsword" scope="team"/>
    <variable id="armor" scope="team"/>
    <variable id="sharpness" scope="team"/>
    <variable id="protection" scope="team"/>
    <variable id="fatigue" scope="team"/>
    <variable id="applied_fatigue" scope="team"/>
    <variable id="healthboost" scope="team"/>
    <variable id="nuggets" scope="match" default="-1"/>
</variables>
<filters>
    <all id="blue-in-wr">
        <team id="only-blue">blue</team>
        <filter id="wr-filter"/>
    </all>
    <all id="red-in-wr">
        <team id="only-red">red</team>
        <filter id="wr-filter"/>
    </all>
    <blocks region="wool-rooms" id="wr-filter">
        <any>
            <material>web</material>
            <material>air</material>
            <material>redstone wire</material>
        </any>
    </blocks>
    <deny id="no-enderchest">
        <material>ender chest</material>
    </deny>
    <!-- Team Upgrade Systems -->
    <all id="apply-ironsword">
        <variable var="ironsword">1</variable>
        <carrying ignore-metadata="true">
            <item material="stone sword"/>
        </carrying>
    </all>
    <!-- Enemy side effects -->
    <all id="in-enemy-side">
        <alive/>
        <filter id="any(all(blue,red-base-region),all(red,blue-base-region))"/>
    </all>
    <all id="apply-fatigue">
        <filter id="in-enemy-side"/>
        <filter id="any(all(fatigue-red,not(red)),all(fatigue-blue,not(blue)))"/>
    </all>
    <!-- Upgrade visibility filters -->
    <variable id="fatigue-red" var="fatigue" team="red">1</variable>
    <variable id="fatigue-blue" var="fatigue" team="blue">1</variable>
    <!-- Tool visibility filters -->
    <any id="has-iron-pick">
        <carrying>
            <item material="iron pickaxe" unbreakable="true" enchantment="efficiency:1"/>
        </carrying>
        <any id="has-gold-pick">
            <carrying>
                <item material="gold pickaxe" unbreakable="true"/>
            </carrying>
            <carrying id="has-diamond-pick">
                <item material="diamond pickaxe" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
        </any>
    </any>
    <any id="has-iron-axe">
        <carrying>
            <item material="iron axe" unbreakable="true" enchantment="efficiency:1"/>
        </carrying>
        <any id="has-gold-axe">
            <carrying>
                <item material="gold axe" unbreakable="true"/>
            </carrying>
            <carrying id="has-diamond-axe">
                <item material="diamond axe" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
        </any>
    </any>
    <any id="has-iron-spade">
        <carrying>
            <item material="iron spade" unbreakable="true" enchantment="efficiency:1"/>
        </carrying>
        <any id="has-gold-spade">
            <carrying>
                <item material="gold spade" unbreakable="true"/>
            </carrying>
            <carrying id="has-diamond-spade">
                <item material="diamond spade" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
        </any>
    </any>
    <any id="upgraded-sword">
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="iron sword"/>
        </carrying>
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="diamond sword"/>
        </carrying>
    </any>
    <any id="upgraded-pick">
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="iron pickaxe"/>
        </carrying>
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="gold pickaxe"/>
        </carrying>
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="diamond pickaxe"/>
        </carrying>
    </any>
    <any id="upgraded-axe">
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="iron axe"/>
        </carrying>
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="gold axe"/>
        </carrying>
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="diamond axe"/>
        </carrying>
    </any>
    <all id="upgraded-spade">
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="iron spade"/>
        </carrying>
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="gold spade"/>
        </carrying>
        <carrying ignore-metadata="true">
            <item unbreakable="true" material="diamond spade"/>
        </carrying>
    </all>
    <not id="not-shears">
        <carrying ignore-metadata="true">
            <item material="shears"/>
        </carrying>
    </not>
    <!-- Individual Armor visibility filters -->
    <wearing id="chainmail-helmet" ignore-metadata="true">
        <item material="leather helmet"/>
    </wearing>
    <wearing id="iron-helmet" ignore-metadata="true">
        <item material="chainmail helmet"/>
    </wearing>
    <wearing id="diamond-helmet" ignore-metadata="true">
        <item material="iron helmet"/>
    </wearing>
    <wearing id="chainmail-chestplate" ignore-metadata="true">
        <item material="leather chestplate"/>
    </wearing>
    <wearing id="iron-chestplate" ignore-metadata="true">
        <item material="chainmail chestplate"/>
    </wearing>
    <wearing id="diamond-chestplate" ignore-metadata="true">
        <item material="iron chestplate"/>
    </wearing>
    <!-- Blocks dropping nuggets -->
    <any id="natural-blocks">
        <material>stone</material>
        <material>dirt</material>
        <material>grass</material>
        <material>sand</material>
        <material>sandstone</material>
        <material>stained clay:9</material>
        <material>clay</material>
        <if variant="halloween">
            <material>hard clay</material>
            <material>soul sand</material>
            <material>gravel</material>
            <material>stained clay:8</material>
        </if>
    </any>
    <!-- Time-based filters -->
    <time id="after-30m">30m</time>
    <time id="after-60m">60m</time>
    <time id="after-90m">90m</time>
</filters>
<regions>
    <union id="spawn-protection">
        <rectangle id="blue-protection" min="125,329" max="151,344"/>
        <rectangle id="red-protection" min="-136,329" max="-162,344"/>
    </union>
    <union id="spawn-chest-dropoffs">
        <point id="red-dropoff">-147.5,14,336.5</point>
        <point id="blue-dropoff">136.5,14,336.5</point>
    </union>
    <union id="wool-rooms">
        <union id="blue-wool-rooms"> <!-- Blue defends -->
            <cuboid id="pink-wool-room" min="147,0,370" max="166,46,385"/>
            <cuboid id="purple-wool-room" min="112,0,262" max="97,46,243"/>
        </union>
        <union id="red-wool-rooms"> <!-- Red defends -->
            <cuboid id="orange-wool-room" min="-108,0,411" max="-123,46,430"/>
            <cuboid id="yellow-wool-room" min="-158,0,288" max="-177,46,303"/>
        </union>
    </union>
    <union id="team-bases">
        <rectangle id="blue-base-region" min="38,385" max="166,243"/>
        <rectangle id="red-base-region" min="-49,288" max="-177,430"/>
    </union>
    <union id="lanes">
        <rectangle id="middle" min="-74,302" max="63,371"/>
        <rectangle id="red-left-lane" min="-111,314" max="-100,300"/>
        <rectangle id="red-right-lane" min="-94,374" max="-108,389"/>
        <rectangle id="blue-left-lane" min="100,359" max="89,373"/>
        <rectangle id="blue-right-lane" min="83,284" max="97,299"/>
    </union>
    <union id="spawners">
        <union id="south-spawner">
            <point id="south-point">-5.5,16,388.5</point>
            <cylinder id="south-player" base="-5.5,16,388.5" radius="5" height="3"/>
        </union>
        <union id="north-spawner">
            <point id="north-point">-5.5,16,284.5</point>
            <cylinder id="north-player" base="-5.5,16,284.5" radius="5" height="3"/>
        </union>
        <union id="spawner-protection">
            <cuboid id="south-protection" min="-3,14,386" max="-8,18,391"/>
            <cuboid id="north-protection" min="-3,14,282" max="-8,18,287"/>
        </union>
    </union>
    <negative id="void-area">
        <region id="spawn-protection"/>
        <region id="wool-rooms"/>
        <region id="lanes"/>
    </negative>
    <apply block="never" region="spawner-protection" message="You may not break or place around the spawner!"/>
    <apply block="no-enderchest" message="You may not break the ender chest!"/>
    <apply enter="only-blue" region="blue-protection" message="You may not enter the opponent's spawn!"/>
    <apply enter="only-red" region="red-protection" message="You may not enter the opponent's spawn!"/>
    <apply enter="only-blue" region="red-wool-rooms" message="You may not enter your own wool room!"/>
    <apply enter="only-red" region="blue-wool-rooms" message="You may not enter your own wool room!"/>
    <apply block="blue-in-wr" use="only-blue" region="red-wool-rooms" message="You may not interact with this block!"/>
    <apply block="red-in-wr" use="only-red" region="blue-wool-rooms" message="You may not interact with this block!"/>
    <apply block-place="deny(void)" region="void-area" message="You may not build in the void area!"/>
    <apply block="never" region="spawn-protection" message="You may not modify the spawns!"/>
</regions>
<spawners>
    <spawner spawn-region="south-point" player-region="south-player" delay="8s">
        <item material="gold nugget" amount="1"/>
    </spawner>
    <spawner spawn-region="north-point" player-region="north-player" delay="8s">
        <item material="gold nugget" amount="1"/>
    </spawner>
    <spawner spawn-region="south-point" player-region="south-player" delay="5s" filter="after-30m">
        <item material="gold nugget" amount="1"/>
    </spawner>
    <spawner spawn-region="north-point" player-region="north-player" delay="5s" filter="after-30m">
        <item material="gold nugget" amount="1"/>
    </spawner>
    <spawner spawn-region="south-point" player-region="south-player" delay="5s" filter="after-60m">
        <item material="gold nugget" amount="1"/>
    </spawner>
    <spawner spawn-region="north-point" player-region="north-player" delay="5s" filter="after-60m">
        <item material="gold nugget" amount="1"/>
    </spawner>
    <spawner spawn-region="south-point" player-region="south-player" delay="5s" filter="after-90m">
        <item material="gold nugget" amount="1"/>
    </spawner>
    <spawner spawn-region="north-point" player-region="north-player" delay="5s" filter="after-90m">
        <item material="gold nugget" amount="1"/>
    </spawner>
</spawners>
<shopkeepers>
    <shopkeepers name="`b`lItem Shop" shop="item-shop">
        <if variant="default">
            <shopkeeper yaw="-90">131.5,14,339.5</shopkeeper> <!-- Blue -->
            <shopkeeper yaw="90">-142.5,14,333.5</shopkeeper> <!-- Red -->
        </if>
        <if variant="halloween">
            <shopkeeper yaw="-90">131.5,15,342.5</shopkeeper> <!-- Blue -->
            <shopkeeper yaw="90">-142.5,15,330.5</shopkeeper> <!-- Red -->
        </if>
    </shopkeepers>
    <shopkeepers name="`b`lUpgrade Shop" shop="upgrade-shop">
        <if variant="default">
            <shopkeeper yaw="-90">131.5,14,333.5</shopkeeper> <!-- Blue -->
            <shopkeeper yaw="90">-142.5,14,339.5</shopkeeper> <!-- Red -->
        </if>
        <if variant="halloween">
            <shopkeeper yaw="-90">131.5,15,330.5</shopkeeper> <!-- Blue -->
            <shopkeeper yaw="90">-142.5,15,342.5</shopkeeper> <!-- Red -->
        </if>
    </shopkeepers>
</shopkeepers>
<shops>
    <shop id="item-shop" name="Items">
        <category id="blocks" name="`aBlocks" material="hard clay">
            <item material="wood" amount="32" price="1" currency="gold nugget"/>
            <item material="cobblestone" amount="32" price="1" currency="gold nugget"/>
            <item material="stained clay" team-color="true" amount="16" price="1" currency="gold nugget"/>
            <item material="stained glass" team-color="true" amount="16" price="1" currency="gold nugget"/>
            <item material="iron fence" amount="16" price="2" currency="gold nugget"/>
            <item material="redstone block" amount="16" price="4" currency="gold nugget"/>
        </category>
        <category id="weapons" name="`aWeapons" material="gold sword">
            <item material="diamond sword" unbreakable="true" amount="1" price="16" currency="gold nugget" kit="diamond-sword-kit"/>
            <item material="stick" name="`rKnockback Stick" enchantment="knockback:1" amount="1" price="6" currency="gold nugget"/>
            <item material="arrow" amount="16" price="1" currency="gold nugget"/>
            <item material="bow" unbreakable="true" enchantment="power:1" name="`rPower Bow" amount="1" price="12" currency="gold nugget" kit="powerbow"/>
            <item material="bow" unbreakable="true" enchantment="power:1;infinity" name="`rPower &amp; Infinity Bow" amount="1" price="24" currency="gold nugget" kit="powerinfinitybow"/>
            <item material="fishing rod" unbreakable="true" amount="1" price="4" currency="gold nugget"/>
        </category>
        <category id="individualarmor" name="`aIndividual Armor" material="chainmail chestplate">
            <item material="chainmail helmet" name="`rIndividual Chainmail Helmet" price="4" currency="gold nugget" kit="chainmailhelmet-kit" filter="chainmail-helmet"/>
            <item material="iron helmet" name="`rIndividual Iron Helmet" price="8" currency="gold nugget" kit="ironhelmet-kit" filter="iron-helmet"/>
            <item material="diamond helmet" name="`rIndividual Diamond Helmet" price="16" currency="gold nugget" kit="diamondhelmet-kit" filter="diamond-helmet"/>
            <item material="chainmail chestplate" name="`rIndividual Chainmail Chestplate" price="8" currency="gold nugget" kit="chainmailchestplate-kit" filter="chainmail-chestplate"/>
            <item material="iron chestplate" name="`rIndividual Iron Chestplate" price="16" currency="gold nugget" kit="ironchestplate-kit" filter="iron-chestplate"/>
            <item material="diamond chestplate" name="`rIndividual Diamond Chestplate" price="24" currency="gold nugget" kit="diamondchestplate-kit" filter="diamond-chestplate"/>
        </category>
        <category id="tools" name="`aTools" material="stone pickaxe">
            <item material="shears" name="`rShears" unbreakable="true" price="2" currency="gold nugget" filter="not-shears"/>
            <item material="iron pickaxe" unbreakable="true" enchantment="efficiency:1" amount="1" filter="not(has-iron-pick)">
                <payment price="2" currency="gold nugget"/>
                <payment price="1" currency="stone pickaxe"/>
            </item>
            <item material="gold pickaxe" unbreakable="true" amount="1" filter="all(has-iron-pick,not(has-gold-pick))">
                <payment price="6" currency="gold nugget"/>
                <payment price="1" currency="iron pickaxe"/>
            </item>
            <item material="diamond pickaxe" unbreakable="true" enchantment="efficiency:2" amount="1" filter="all(has-gold-pick,not(has-diamond-pick))">
                <payment price="12" currency="gold nugget"/>
                <payment price="1" currency="gold pickaxe"/>
            </item>
            <item material="iron axe" unbreakable="true" enchantment="efficiency:1" amount="1" filter="not(has-iron-axe)">
                <payment price="2" currency="gold nugget"/>
                <payment price="1" currency="stone axe"/>
            </item>
            <item material="gold axe" unbreakable="true" amount="1" filter="all(has-iron-axe,not(has-gold-axe))">
                <payment price="6" currency="gold nugget"/>
                <payment price="1" currency="iron axe"/>
            </item>
            <item material="diamond axe" unbreakable="true" enchantment="efficiency:2" amount="1" filter="all(has-gold-axe,not(has-diamond-axe))">
                <payment price="12" currency="gold nugget"/>
                <payment price="1" currency="gold axe"/>
            </item>
            <item material="iron spade" unbreakable="true" enchantment="efficiency:1" amount="1" filter="not(has-iron-spade)">
                <payment price="2" currency="gold nugget"/>
                <payment price="1" currency="stone spade"/>
            </item>
            <item material="gold spade" unbreakable="true" amount="1" filter="all(has-iron-spade,not(has-gold-spade))">
                <payment price="6" currency="gold nugget"/>
                <payment price="1" currency="iron spade"/>
            </item>
            <item material="diamond spade" unbreakable="true" enchantment="efficiency:2" amount="1" filter="all(has-gold-spade,not(has-diamond-spade))">
                <payment price="12" currency="gold nugget"/>
                <payment price="1" currency="gold spade"/>
            </item>
        </category>
        <category id="potions" name="`aPotions" material="brewing stand item">
            <item material="potion" name="`rInstant Health II" damage="16389" amount="1" price="6" currency="gold nugget">
                <effect amplifier="2">instant_health</effect>
            </item>
            <item material="potion" name="`rInstant Damage II" damage="16396" amount="1" price="4" currency="gold nugget">
                <effect amplifier="2">instant_damage</effect>
            </item>
            <item material="potion" name="`rJump Boost II (1:00)" damage="11" amount="1" price="8" currency="gold nugget">
                <effect duration="60s" amplifier="2">jump_boost</effect>
            </item>
        </category>
        <category id="utilities" name="`aUtilities" material="tnt">
            <item material="golden apple" amount="1" price="2" currency="gold nugget"/>
            <item material="tnt" lore="`7Instantly ignites once placed." amount="1" price="8" currency="gold nugget"/>
            <item material="sponge" amount="1" price="1" currency="gold nugget"/>
        </category>
        <if variant="halloween">
            <category id="halloweengoodies" name="`aHalloween Goodies" material="jack o lantern">
                <item material="firework" name="`6Festive Firework" price="1" currency="gold nugget" kit="festivefirework"/>
                <item material="egg" name="`6Evil Egg" lore="`r`3Useful for egging houses" price="1" currency="gold nugget"/>
                <item material="saddle" name="`6Horseman's Spare Horse" price="16" currency="gold nugget" kit="horsemanhorse"/>
            </category>
        </if>
    </shop>
    <shop id="upgrade-shop" name="Team Upgrades">
        <category id="upgrades" name="`aTeam Upgrades" material="beacon">
            <item material="chainmail boots" name="`7`lChainmail Kit" lore="`7Your team's spawn kit now|`7has chainmail leggings and boots" price="32" currency="gold nugget" kit="set-armor-chainmail" filter="armor=0"/>
            <item material="iron boots" name="`f`lIron Kit" lore="`7Your team's spawn kit now|`7has iron leggings, boots, and sword" price="64" currency="gold nugget" kit="set-armor-iron" filter="armor=1"/>
            <item material="diamond boots" name="`b`lDiamond Kit" lore="`7Your team's spawn kit now|`7has diamond leggings and boots" price="128" currency="gold nugget" kit="set-armor-diamond" filter="armor=2"/>
            <item material="iron sword" name="`4`lSharpness I" lore="`7Your team permanently gains|`7Sharpness I on all swords" price="128" currency="gold nugget" action="add-sharpness" filter="sharpness=0"/>
            <item material="anvil" name="`e`lProtection I" lore="`7Your team permanently gains|`7Protection I on all  pieces." price="64" currency="gold nugget" action="add-protection" filter="protection=0"/>
            <item material="gold pickaxe" name="`6`lHaste I" lore="`7All players on your team|`7permanently gain Haste I!." price="48" currency="gold nugget" action="add-haste" filter="haste=0"/>
            <item material="diamond pickaxe" name="`6`lHaste II" lore="`7All players on your team|`7permanently gain Haste II!." price="64" currency="gold nugget" action="add-haste" filter="haste=1"/>
            <item material="feather" name="`c`lSpeed I" lore="`7All players on your team|`7permanently gain Speed I!." price="64" currency="gold nugget" action="add-speed" filter="speed=0"/>
            <item material="poisonous potato" name="`7`lMining Fatigue Trap" lore="`7Enemies who enter your side will|`7receive Mining Fatigue I." price="48" currency="gold nugget" action="add-fatigue" filter="fatigue=0"/>
            <item material="potion" damage="5" name="`4`lOffensive Health boost I" lore="`7Entering enemy territory will|`7grant Health Boost I." price="256" currency="gold nugget" action="add-healthboost" filter="healthboost=0"/>
            <item material="potion" damage="5" name="`4`lOffensive Health boost II" lore="`7Entering enemy territory will|`7grant Health Boost II." price="512" currency="gold nugget" action="add-healthboost" filter="healthboost=1"/>
        </category>
    </shop>
</shops>
<wools craftable="false">
    <!-- Blue Team -->
    <wool team="blue" color="yellow" location="-168.5,18,295.5">
        <monument>
            <if variant="default">
                <block>147,19,334</block>
            </if>
            <if variant="halloween">
                <block>145,17,335</block>
            </if>
        </monument>
    </wool>
    <if variant="default">
        <wool team="blue" color="orange" location="-115.5,16,423.5">
            <monument>
                <block>147,19,338</block>
            </monument>
        </wool>
    </if>
    <if variant="halloween">
        <wool team="blue" color="red" location="-115.5,16,423.5">
            <monument>
                <block>145,17,337</block>
            </monument>
        </wool>
    </if>
    <!-- Red Team -->
    <wool team="red" color="pink" location="157.5,18,377.5">
        <monument>
            <if variant="default">
                <block>-159,19,338</block>
            </if>
            <if variant="halloween">
                <block>-157,17,337</block>
            </if>
        </monument>
    </wool>
    <if variant="default">
        <wool team="red" color="purple" location="104.5,16,249.5">
            <monument>
                <block>-159,19,334</block>
            </monument>
        </wool>
    </if>
    <if variant="halloween">
        <wool team="red" color="blue" location="104.5,16,249.5">
            <monument>
                <block>-157,17,335</block>
            </monument>
        </wool>
    </if>
</wools>
<toolrepair>
    <tool>stone pickaxe</tool>
    <tool>gold pickaxe</tool>
    <tool>iron pickaxe</tool>
    <tool>diamond pickaxe</tool>
    <tool>stone axe</tool>
    <tool>gold axe</tool>
    <tool>iron axe</tool>
    <tool>diamond axe</tool>
    <tool>stone spade</tool>
    <tool>gold spade</tool>
    <tool>iron spade</tool>
    <tool>diamond spade</tool>
    <tool>stone sword</tool>
    <tool>iron sword</tool>
    <tool>diamond sword</tool>
    <tool>shears</tool>
    <tool>bow</tool>
</toolrepair>
<itemremove>
    <item>string</item>
    <item>redstone</item>
    <item>redstone torch off</item>
    <item>sapling</item>
    <item>seeds</item>
    <item>water lily</item>
    <item>sugar cane</item>
    <item>red rose</item>
    <item>golden apple</item>
    <item>water bucket</item>
    <item>bucket</item>
    <item>arrow</item>
    <item>gold block</item>
    <item>dirt</item>
    <item>stone</item>
    <item>cobblestone</item>
    <item>stained clay</item>
    <item>wood</item>
    <item>log</item>
    <item>stained glass</item>
    <item>sponge</item>
    <item>clay ball</item>
    <item>leather helmet</item>
    <item>leather chestplate</item>
    <item>leather leggings</item>
    <item>leather boots</item>
    <item>chainmail helmet</item>
    <item>chainmail chestplate</item>
    <item>chainmail leggings</item>
    <item>chainmail boots</item>
    <item>iron helmet</item>
    <item>iron chestplate</item>
    <item>iron leggings</item>
    <item>iron boots</item>
    <item>diamond helmet</item>
    <item>diamond chestplate</item>
    <item>diamond leggings</item>
    <item>diamond boots</item>
    <item>stone pickaxe</item>
    <item>gold pickaxe</item>
    <item>iron pickaxe</item>
    <item>diamond pickaxe</item>
    <item>stone axe</item>
    <item>gold axe</item>
    <item>iron axe</item>
    <item>diamond axe</item>
    <item>stone spade</item>
    <item>gold spade</item>
    <item>iron spade</item>
    <item>diamond spade</item>
    <item>stone sword</item>
    <item>iron sword</item>
    <item>diamond sword</item>
    <item>shears</item>
    <item>bow</item>
    <if variant="halloween">
        <item>jack o lantern</item>
        <item>brown mushroom</item>
        <item>red mushroom</item>
        <item>wool:13</item>
        <item>quartz block</item>
        <item>prismarine</item>
        <item>step:7</item>
        <item>wood step:4</item>
        <item>wood step:5</item>
        <item>coal block</item>
        <item>log 2</item>
        <item>nether brick stairs</item>
        <item>hard clay</item>
        <item>smooth brick</item>
        <item>soul sand</item>
        <item>flint</item>
        <item>gravel</item>
        <item>nether stalk</item>
    </if>
</itemremove>
<itemkeep>
    <item>gold pickaxe</item>
    <item>iron pickaxe</item>
    <item>diamond pickaxe</item>
    <item>gold axe</item>
    <item>iron axe</item>
    <item>diamond axe</item>
    <item>gold spade</item>
    <item>iron spade</item>
    <item>diamond spade</item>
    <item>iron sword</item>
    <item>diamond sword</item>
    <item>shears</item>
    <item>bow</item>
    <item>stick</item>
</itemkeep>
<armorkeep>
    <item>leather helmet</item>
    <item>leather chestplate</item>
    <item>leather leggings</item>
    <item>leather boots</item>
    <item>chainmail helmet</item>
    <item>chainmail chestplate</item>
    <item>chainmail leggings</item>
    <item>chainmail boots</item>
    <item>iron helmet</item>
    <item>iron chestplate</item>
    <item>iron leggings</item>
    <item>iron boots</item>
    <item>diamond helmet</item>
    <item>diamond chestplate</item>
    <item>diamond leggings</item>
    <item>diamond boots</item>
</armorkeep>
<block-drops>
    <rule filter="all(natural-blocks,not(after-30m))">  <!-- First 30m -->
        <drops>
            <item chance="0.05" material="gold nugget"/>
        </drops>
    </rule>
    <rule filter="all(natural-blocks,after-30m,not(after-60m))">  <!-- From 30m to 60m -->
        <drops>
            <item chance="0.10" material="gold nugget"/>
        </drops>
    </rule>
    <rule filter="all(natural-blocks,after-60m,not(after-90m))">  <!-- From 60m to 90m -->
        <drops>
            <item chance="0.20" material="gold nugget"/>
        </drops>
    </rule>
    <rule filter="all(natural-blocks,after-90m)">  <!-- 90m onwards -->
        <drops>
            <item chance="0.40" material="gold nugget"/>
        </drops>
    </rule>
</block-drops>
<tnt>
    <instantignite>on</instantignite>
</tnt>
<enderchest>
    <dropoff region="red-dropoff" filter="only-red"/>
    <dropoff region="blue-dropoff" filter="only-blue"/>
</enderchest>
<kill-rewards>
    <kill-reward>
        <item amount="16" material="wood"/>
        <item amount="8" material="stained glass" team-color="true"/>
        <action>
            <repeat times="bound(nuggets, 1, 32)">
                <kit deduct-items="false">
                    <item amount="1" material="gold nugget"/>
                </kit>
            </repeat>
        </action>
    </kill-reward>
</kill-rewards>
<maxbuildheight>32</maxbuildheight>
<hunger>
    <depletion>off</depletion>
</hunger>
</map>