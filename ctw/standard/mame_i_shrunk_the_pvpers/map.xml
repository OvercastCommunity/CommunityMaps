<map proto="1.4.2">
<name>Mame, I Shrunk the PvPers</name>
<variant id="halloween" world="halloween" override="true">Mame, I Shrunk the Goblins</variant>
<version>1.2.2</version>
<include id="gapple-kill-reward"/>
<objective>Capture both of the enemy's wools, and buy upgrades from the villagers to help you do so!</objective>
<if variant="default">
    <created>2023-02-01</created>
</if>
<if variant="halloween">
    <created>2023-09-13</created>
</if>
<gamemode>ctw</gamemode>
<authors>
    <author uuid="6863869b-4b8c-4445-b778-a8e016775ae4" contribution="Layout, theming, XML"/> <!-- Cazadorian -->
    <author uuid="b2539be1-8f98-4375-b653-9d91cd04c30e" contribution="Aesthetics, theming"/> <!-- Mewzzy -->
    <author uuid="ec5ec930-5cf3-4f8a-ad9f-09056aeed71b" contribution="Aesthetics, layout"/> <!-- Tundren -->
</authors>
<contributors>
    <contributor uuid="430ec559-364a-4363-ac7a-2529050440ac" contribution="Let me use this memey name"/> <!-- mameBT -->
    <contributor uuid="1aad55f7-2dea-4f22-85ca-ad9de3a78609" contribution="Misc aesthetics"/> <!-- Technodono -->
</contributors>
<constants>
    <constant id="observers-kit" delete="true"/>
</constants>
<if variant="halloween">
    <constant id="observers-kit">default-kit</constant>
</if>
<teams>
    <unless variant="halloween">
        <team id="blue" color="blue" max="32">Blue</team>
        <team id="red" color="red" max="32">Red</team>
    </unless>
    <if variant="halloween">
        <team id="blue" color="dark purple" max="32">Purple</team>
        <team id="red" color="gold" max="32">Orange</team>
    </if>
</teams>
<broadcasts>
    <alert after="5s">Buy upgrades with Gold Nuggets, earned from kills, mining, and the middle spawners!</alert>
    <tip after="5m" every="5m">Buy upgrades with Gold Nuggets, earned from kills, mining, and the middle spawners!</tip>
</broadcasts>
<spawns>
    <default kit="${observers-kit}">
        <regions>
            <point>-5.5,33,222.5</point>
        </regions>
    </default>
    <spawn team="blue" kit="spawn-kit" yaw="90">
        <regions>
            <if variant="default">
                <point>136.5,14,336.5</point>
            </if>
            <if variant="halloween">
                <point>137.5,14,336.5</point>
            </if>
        </regions>
    </spawn>
    <spawn team="red" kit="spawn-kit" yaw="-90">
        <regions>
            <if variant="default">
                <point>-147.5,14,336.5</point>
            </if>
            <if variant="halloween">
                <point>-148.5,14,336.5</point>
            </if>
        </regions>
    </spawn>
</spawns>
<kits>
    <kit id="default-kit">
        <effect>night vision</effect>
    </kit>
    <kit id="sword" filter="upgraded-sword">
        <item slot="0" material="stone sword" unbreakable="true"/>
    </kit>
    <kit id="spawn-kit" parent="sword">
        <item slot="1" unbreakable="true" material="bow"/>
        <item slot="2" unbreakable="true" material="stone pickaxe"/>
        <item slot="3" unbreakable="true" material="stone axe"/>
        <item slot="4" material="wood" amount="64"/>
        <item slot="5" material="stained glass" team-color="true" amount="32"/>
        <item slot="7" material="golden apple"/>
        <item slot="8" material="water bucket"/>
        <item slot="28" material="arrow" amount="24"/>
        <item slot="29" unbreakable="true" material="stone spade"/>
        <helmet unbreakable="true" team-color="true" material="leather helmet" locked="true"/>
        <chestplate unbreakable="true" team-color="true" material="leather chestplate" locked="true"/>
        <leggings unbreakable="true" team-color="true" material="leather leggings" locked="true"/>
        <boots unbreakable="true" team-color="true" material="leather boots" locked="true"/>
        <effect duration="3" amplifier="255">damage resistance</effect>
        <if variant="halloween">
            <effect>night vision</effect>
        </if>
    </kit>
    <!-- Upgrades -->
    <give filter="apply-haste-1">
        <kit>
            <effect>fast digging</effect>
        </kit>
    </give>
    <give filter="apply-haste-2">
        <kit>
            <effect amplifier="2">fast digging</effect>
        </kit>
    </give>
    <give filter="apply-speed">
        <kit>
            <effect>speed</effect>
        </kit>
    </give>
    <lend filter="apply-fatigue">
        <kit>
            <effect>slow digging</effect>
        </kit>
    </lend>
    <!-- Weapon Upgrades -->
    <kit id="diamond-sword-sharp0" deduct-tools="false">
        <action>
            <replace-item ignore-metadata="true">
                <find material="stone sword"/>
                <replace material="air"/>
            </replace-item>
            <replace-item ignore-metadata="true">
                <find material="iron sword"/>
                <replace material="air"/>
            </replace-item>
        </action>
        <item material="diamond sword" unbreakable="true"/>
    </kit>
    <kit id="diamond-sword-sharp1" deduct-tools="false">
        <action>
            <replace-item ignore-metadata="true">
                <find material="stone sword"/>
                <replace material="air"/>
            </replace-item>
            <replace-item ignore-metadata="true">
                <find material="iron sword"/>
                <replace material="air"/>
            </replace-item>
        </action>
        <item material="diamond sword" unbreakable="true" enchantment="sharpness"/>
    </kit>
    <kit id="powerbow" deduct-tools="false">
        <action>
            <replace-item>
                <find material="bow" unbreakable="true"/>
                <replace material="air"/>
            </replace-item>
        </action>
        <item material="bow" enchantment="power" unbreakable="true"/>
    </kit>
    <kit id="powerinfinitybow" deduct-tools="false">
        <action>
            <replace-item>
                <find material="bow" unbreakable="true"/>
                <replace material="air"/>
            </replace-item>
        </action>
        <item material="bow" enchantment="power:1;infinity" unbreakable="true"/>
    </kit>
    <!-- Individual Armour -->
    <kit id="chainmailhelmet-kit-0" force="true">
        <helmet unbreakable="true" locked="true" material="chainmail helmet"/>
    </kit>
    <kit id="ironhelmet-kit-0" force="true">
        <helmet unbreakable="true" locked="true" material="iron helmet"/>
    </kit>
    <kit id="diamondhelmet-kit-0" force="true">
        <helmet unbreakable="true" locked="true" material="diamond helmet"/>
    </kit>
    <kit id="chainmailhelmet-kit-1" force="true">
        <helmet unbreakable="true" locked="true" material="chainmail helmet" enchantment="protection:1"/>
    </kit>
    <kit id="ironhelmet-kit-1" force="true">
        <helmet unbreakable="true" locked="true" material="iron helmet" enchantment="protection:1"/>
    </kit>
    <kit id="diamondhelmet-kit-1" force="true">
        <helmet unbreakable="true" locked="true" material="diamond helmet" enchantment="protection:1"/>
    </kit>
    <kit id="chainmailchestplate-kit-0" force="true">
        <chestplate unbreakable="true" locked="true" material="chainmail chestplate"/>
    </kit>
    <kit id="ironchestplate-kit-0" force="true">
        <chestplate unbreakable="true" locked="true" material="iron chestplate"/>
    </kit>
    <kit id="diamondchestplate-kit-0" force="true">
        <chestplate unbreakable="true" locked="true" material="diamond chestplate"/>
    </kit>
    <kit id="chainmailchestplate-kit-1" force="true">
        <chestplate unbreakable="true" locked="true" material="chainmail chestplate" enchantment="protection:1"/>
    </kit>
    <kit id="ironchestplate-kit-1" force="true">
        <chestplate unbreakable="true" locked="true" material="iron chestplate" enchantment="protection:1"/>
    </kit>
    <kit id="diamondchestplate-kit-1" force="true">
        <chestplate unbreakable="true" locked="true" material="diamond chestplate" enchantment="protection:1"/>
    </kit>
    <!-- Team Armours-->
    <kit id="chainmail-team0-kit" force="true">
        <action scope="player">
            <set var="armour_variable" value="1" scope="player"/>
        </action>
    </kit>
    <kit id="iron-team0-kit" force="true">
        <action scope="player">
            <set var="ironsword_variable" value="1" scope="player"/>
            <set var="armour_variable" value="2" scope="player"/>
        </action>
    </kit>
    <kit id="diamond-team0-kit" force="true">
        <action scope="player">
            <set var="armour_variable" value="3" scope="player"/>
        </action>
    </kit>
	<!-- Halloween Goodies-->
	<if variant="halloween">
        <kit id="festivefirework" deduct-items="false">
		    <firework power="1">
                <explosion type="creeper" flicker="true" trail="true">
                    <color>ffa500</color>
                    <color>aa00aa</color>
                    <fade>000000</fade>
                </explosion>
            </firework>
        </kit>
        <kit id="horsemanhorse" deduct-items="false">
		    <item material="saddle"/>
			<item material="monster egg" damage="100"/>
        </kit>
	</if>
</kits>
<actions>
    <!-- Upgrade variables -->
    <set id="haste-dummy-1" var="haste_variable" value="1" scope="player"/>
    <set id="haste-dummy-2" var="haste_variable" value="2" scope="player"/>
    <set id="speed-dummy" var="speed_variable" value="1" scope="player"/>
    <set id="sharpness-dummy" var="sharpness_variable" value="1" scope="player"/>
    <set id="protection-dummy-1" var="protection_variable" value="1" scope="player"/>
    <set id="fatigue-dummy" var="fatigue_variable" value="1" scope="player"/>
    <!-- Sharpness replacements -->
    <action id="ironsword-replacement" scope="player">
        <replace-item>
            <find material="stone sword" unbreakable="true"/>
            <replace material="iron sword" unbreakable="true"/>
        </replace-item>
        <replace-item>
            <find material="stone sword" unbreakable="true" enchantment="sharpness"/>
            <replace material="iron sword" unbreakable="true" enchantment="sharpness"/>
        </replace-item>
    </action>
    <action id="sharpness-replacements" scope="player">
        <replace-item ignore-metadata="true">
            <find material="wood sword"/>
            <replace material="wood sword" unbreakable="true" enchantment="sharpness"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="stone sword"/>
            <replace material="stone sword" unbreakable="true" enchantment="sharpness"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron sword"/>
            <replace material="iron sword" unbreakable="true" enchantment="sharpness"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="diamond sword"/>
            <replace material="diamond sword" unbreakable="true" enchantment="sharpness"/>
        </replace-item>
    </action>
    <!-- Team Armour replacements -->
    <action id="chainmail-teamreplace-0" scope="player">
        <replace-item ignore-metadata="true">
            <find material="leather boots"/>
            <replace material="chainmail boots" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather leggings"/>
            <replace material="chainmail leggings" unbreakable="true" locked="true"/>
        </replace-item>
    </action>
    <action id="iron-teamreplace-0" scope="player">
        <replace-item ignore-metadata="true">
            <find material="leather boots"/>
            <replace material="iron boots" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather leggings"/>
            <replace material="iron leggings" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail boots"/>
            <replace material="iron boots" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail leggings"/>
            <replace material="iron leggings" unbreakable="true" locked="true"/>
        </replace-item>
    </action>
    <action id="diamond-teamreplace-0" scope="player">
        <replace-item ignore-metadata="true">
            <find material="leather boots"/>
            <replace material="diamond boots" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather leggings"/>
            <replace material="diamond leggings" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail boots"/>
            <replace material="diamond boots" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail leggings"/>
            <replace material="diamond leggings" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron boots"/>
            <replace material="diamond boots" unbreakable="true" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron leggings"/>
            <replace material="diamond leggings" unbreakable="true" locked="true"/>
        </replace-item>
    </action>
    <action id="chainmail-teamreplace-1" scope="player">
        <replace-item ignore-metadata="true">
            <find material="leather boots"/>
            <replace material="chainmail boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather leggings"/>
            <replace material="chainmail leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
    </action>
    <action id="iron-teamreplace-1" scope="player">
        <replace-item ignore-metadata="true">
            <find material="leather boots"/>
            <replace material="iron boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather leggings"/>
            <replace material="iron leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail boots"/>
            <replace material="iron boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail leggings"/>
            <replace material="iron leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
    </action>
    <action id="diamond-teamreplace-1" scope="player">
        <replace-item ignore-metadata="true">
            <find material="leather boots"/>
            <replace material="diamond boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather leggings"/>
            <replace material="diamond leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail boots"/>
            <replace material="diamond boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail leggings"/>
            <replace material="diamond leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron boots"/>
            <replace material="diamond boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron leggings"/>
            <replace material="diamond leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
    </action>
    <!-- Protection replacements -->
    <action id="protection-replacement-1" scope="player">
        <replace-item ignore-metadata="true">
            <find material="leather boots"/>
            <replace material="leather boots" team-color="true" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather leggings"/>
            <replace material="leather leggings" team-color="true" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather chestplate"/>
            <replace material="leather chestplate" team-color="true" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="leather helmet"/>
            <replace material="leather helmet" team-color="true" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail boots"/>
            <replace material="chainmail boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail leggings"/>
            <replace material="chainmail leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail chestplate"/>
            <replace material="chainmail chestplate" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="chainmail helmet"/>
            <replace material="chainmail helmet" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron boots"/>
            <replace material="iron boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron leggings"/>
            <replace material="iron leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron chestplate"/>
            <replace material="iron chestplate" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="iron helmet"/>
            <replace material="iron helmet" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="diamond boots"/>
            <replace material="diamond boots" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="diamond leggings"/>
            <replace material="diamond leggings" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="diamond chestplate"/>
            <replace material="diamond chestplate" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
        <replace-item ignore-metadata="true">
            <find material="diamond helmet"/>
            <replace material="diamond helmet" unbreakable="true" enchantment="protection" locked="true"/>
        </replace-item>
    </action>
    <!-- Starting tool deletion replacements -->
        <action id="stonepickdelete" scope="player">
            <replace-item ignore-metadata="true">
                <find material="stone pickaxe" unbreakable="true"/>
                <replace material="air"/>
            </replace-item>
        </action>
        <action id="stoneaxedelete" scope="player">
            <replace-item ignore-metadata="true">
                <find material="stone axe" unbreakable="true"/>
                <replace material="air"/>
            </replace-item>
        </action>
        <action id="stonespadedelete" scope="player">
            <replace-item ignore-metadata="true">
                <find material="stone spade" unbreakable="true"/>
                <replace material="air"/>
            </replace-item>
        </action>
    <!-- Upgrade alerts -->
    <message id="sharpness-alert-1" text="`bYour sword has been upgraded to `4`lSharpness I`r`b!"/>
    <trigger filter="sharpness-1" trigger="sharpness-alert-1" scope="player"/>
    <message id="protection-alert-1" text="`bYour armour has been upgraded to `9`lProtection I`r`b!"/>
    <trigger filter="protection-1" trigger="protection-alert-1" scope="player"/>
    <message id="haste-alert-1" text="`bYour team now has `e`lHaste I`r`b!"/>
    <trigger filter="haste-1" trigger="haste-alert-1" scope="player"/>
    <message id="haste-alert-2" text="`bYour team now has `e`lHaste II`r`b!"/>
    <trigger filter="haste-2" trigger="haste-alert-2" scope="player"/>
    <message id="speed-alert-1" text="`bYour team now has `9`lSpeed I`r`b!"/>
    <trigger filter="speed-1" trigger="speed-alert-1" scope="player"/>
    <message id="fatigue-alert-1" text="`bYour team's base now has a `7`lMining Fatigue Trap`r`b!"/>
    <trigger filter="fatigue-1" trigger="fatigue-alert-1" scope="player"/>
    <message id="kit-alert-1" text="`bYour team's kit has been upgraded to `7`lChainmail`r`b!"/>
    <trigger filter="armour-1" trigger="kit-alert-1" scope="player"/>
    <message id="kit-alert-2" text="`bYour team's kit has been upgraded to `f`lIron`r`b!"/>
    <trigger filter="armour-2" trigger="kit-alert-2" scope="player"/>
    <message id="kit-alert-3" text="`bYour team's kit has been upgraded to `b`lDiamond`r`b!"/>
    <trigger filter="armour-3" trigger="kit-alert-3" scope="player"/>
    <!-- Enchantment triggers -->
    <trigger filter="apply-sharpness" trigger="sharpness-replacements" scope="player"/>
    <trigger filter="apply-ironsword" trigger="ironsword-replacement" scope="player"/>
    <trigger filter="upgraded-pick" trigger="stonepickdelete" scope="player"/>
    <trigger filter="upgraded-axe" trigger="stoneaxedelete" scope="player"/>
    <trigger filter="upgraded-spade" trigger="stonespadedelete" scope="player"/>
    <trigger filter="apply-protection-1" trigger="protection-replacement-1" scope="player"/>
    <!-- Armour triggers -->
    <trigger filter="apply-chain0" trigger="chainmail-teamreplace-0" scope="player"/>
    <trigger filter="apply-iron0" trigger="iron-teamreplace-0" scope="player"/>
    <trigger filter="apply-diamond0" trigger="diamond-teamreplace-0" scope="player"/>
    <trigger filter="apply-chain1" trigger="chainmail-teamreplace-1" scope="player"/>
    <trigger filter="apply-iron1" trigger="iron-teamreplace-1" scope="player"/>
    <trigger filter="apply-diamond1" trigger="diamond-teamreplace-1" scope="player"/>
</actions>
<variables>
    <variable id="haste_variable" scope="team"/>
    <variable id="speed_variable" scope="team"/>
    <variable id="ironsword_variable" scope="team"/>
    <variable id="armour_variable" scope="team"/>
    <variable id="sharpness_variable" scope="team"/>
    <variable id="protection_variable" scope="team"/>
    <variable id="fatigue_variable" scope="team"/>
</variables>
<filters>
    <all id="blue-in-wr">
        <team id="only-blue">blue</team>
        <filter id="wr-filter"/>
    </all>
    <all id="red-in-wr">
        <team id="only-red">red</team>
        <filter id="wr-filter"/>
    </all>
    <blocks region="wool-rooms" id="wr-filter">
        <any>
            <material>web</material>
            <material>air</material>
            <material>redstone wire</material>
        </any>
    </blocks>
    <deny id="no-enderchest">
        <material>ender chest</material>
    </deny>
    <not id="deny-void">
       <void/>
    </not>
    <!-- Team Upgrade Systems -->
    <all id="apply-ironsword">
        <variable var="ironsword_variable">1</variable>
        <alive/>
    </all>
    <all id="apply-chain0">
        <variable var="armour_variable">1</variable>
        <variable var="protection_variable">0</variable>
        <alive/>
    </all>
    <all id="apply-iron0">
        <variable var="armour_variable">2</variable>
        <variable var="protection_variable">0</variable>
        <alive/>
    </all>
    <all id="apply-diamond0">
        <variable var="armour_variable">3</variable>
        <variable var="protection_variable">0</variable>
        <alive/>
    </all>
    <all id="apply-chain1">
        <variable var="armour_variable">1</variable>
        <variable var="protection_variable">1</variable>
        <alive/>
    </all>
    <all id="apply-iron1">
        <variable var="armour_variable">2</variable>
        <variable var="protection_variable">1</variable>
        <alive/>
    </all>
    <all id="apply-diamond1">
        <variable var="armour_variable">3</variable>
        <variable var="protection_variable">1</variable>
        <alive/>
    </all>
    <all id="apply-sharpness">
        <variable var="sharpness_variable">1</variable>
        <alive/>
    </all>
    <all id="apply-protection-1">
        <variable var="protection_variable">1</variable>
        <alive/>
    </all>
    <all id="apply-haste-1">
        <variable var="haste_variable">1</variable>
        <alive/>
        <any>
            <all>
                <team>blue</team>
                <region id="blue-base-region"/>
            </all>
            <all>
                <team>red</team>
                <region id="red-base-region"/>
            </all>
        </any>
    </all>
    <all id="apply-haste-2">
        <variable var="haste_variable">2</variable>
        <alive/>
        <any>
            <all>
                <team>blue</team>
                <region id="blue-base-region"/>
            </all>
            <all>
                <team>red</team>
                <region id="red-base-region"/>
            </all>
        </any>
    </all>
    <all id="apply-speed">
        <variable var="speed_variable">1</variable>
        <alive/>
    </all>
    <!-- Traps -->
    <all id="red-trap">
        <not>
            <team>red</team>
        </not>
        <region id="red-base-region"/>
    </all>
    <all id="blue-trap">
        <not>
            <team>blue</team>
        </not>
        <region id="blue-base-region"/>
    </all>
    <all id="apply-fatigue">
        <alive/>
        <any>
            <all>
                <filter id="red-trap"/>
                <variable var="fatigue_variable" team="red">1</variable>
            </all>
            <all>
                <filter id="blue-trap"/>
                <variable var="fatigue_variable" team="blue">1</variable>
            </all>
        </any>
    </all>
    <!-- Upgrade visibility filters -->
    <variable id="haste-0" var="haste_variable">0</variable>
    <variable id="haste-1" var="haste_variable">1</variable>
    <variable id="haste-2" var="haste_variable">2</variable>
    <variable id="protection-0" var="protection_variable">0</variable>
    <variable id="protection-1" var="protection_variable">1</variable>
    <variable id="sharpness-0" var="sharpness_variable">0</variable>
    <variable id="sharpness-1" var="sharpness_variable">1</variable>
    <variable id="speed-0" var="speed_variable">0</variable>
    <variable id="fatigue-0" var="fatigue_variable">0</variable>
    <variable id="speed-1" var="speed_variable">1</variable>
    <variable id="fatigue-1" var="fatigue_variable">1</variable>
    <variable id="armour-1" var="armour_variable">1</variable>
    <variable id="armour-2" var="armour_variable">2</variable>
    <variable id="armour-3" var="armour_variable">3</variable>
    <!-- Tool visibility filters -->
    <not id="not-iron-pickaxe">
        <any>
            <carrying>
                <item material="iron pickaxe" unbreakable="true" enchantment="efficiency:1"/>
            </carrying>
            <carrying>
               <item material="gold pickaxe" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="diamond pickaxe" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
        </any>
    </not>
    <not id="not-gold-pickaxe">
        <any>
            <carrying>
                <item material="stone pickaxe" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="gold pickaxe" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="diamond pickaxe" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
            <not>
                <carrying>
                    <item material="iron pickaxe" unbreakable="true" enchantment="efficiency:1"/>
                </carrying>
            </not>
        </any>
    </not>
    <not id="not-diamond-pickaxe">
        <any>
            <carrying>
                <item material="stone pickaxe" unbreakable="true"/>
            </carrying>
            <carrying>
                <item material="iron pickaxe" unbreakable="true" enchantment="efficiency:1"/>
            </carrying>
            <carrying>
               <item material="diamond pickaxe" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
            <not>
                <carrying>
                   <item material="gold pickaxe" unbreakable="true"/>
                </carrying>
            </not>
        </any>
    </not>
    <not id="not-iron-axe">
        <any>
            <carrying>
               <item material="gold axe" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="iron axe" unbreakable="true" enchantment="efficiency:1"/>
            </carrying>
            <carrying>
               <item material="diamond axe" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
        </any>
    </not>
    <not id="not-gold-axe">
        <any>
            <carrying>
                <item material="stone axe" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="gold axe" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="diamond axe" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
            <not>
                <carrying>
                    <item material="iron axe" unbreakable="true" enchantment="efficiency:1"/>
                </carrying>
            </not>
        </any>
    </not>
    <not id="not-diamond-axe">
        <any>
            <carrying>
                <item material="stone axe" unbreakable="true"/>
            </carrying>
            <carrying>
                <item material="iron axe" unbreakable="true" enchantment="efficiency:1"/>
            </carrying>
            <carrying>
               <item material="diamond axe" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
            <not>
                <carrying>
                    <item material="gold axe" unbreakable="true"/>
                </carrying>
            </not>
        </any>
    </not>
    <not id="not-iron-spade">
        <any>
            <carrying>
               <item material="gold spade" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="iron spade" unbreakable="true" enchantment="efficiency:1"/>
            </carrying>
            <carrying>
               <item material="diamond spade" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
            <not>
                <carrying>
                    <item material="stone spade" unbreakable="true"/>
                </carrying>
            </not>
        </any>
    </not>
    <not id="not-gold-spade">
        <any>
            <carrying>
                <item material="stone spade" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="gold spade" unbreakable="true"/>
            </carrying>
            <carrying>
               <item material="diamond spade" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
            <not>
                <carrying>
                    <item material="iron spade" unbreakable="true" enchantment="efficiency:1"/>
                </carrying>
            </not>
        </any>
    </not>
    <not id="not-diamond-spade">
        <any>
            <carrying>
                <item material="stone spade" unbreakable="true"/>
            </carrying>
            <carrying>
                <item material="iron spade" unbreakable="true" enchantment="efficiency:1"/>
            </carrying>
            <carrying>
               <item material="diamond spade" unbreakable="true" enchantment="efficiency:2"/>
            </carrying>
            <not>
                <carrying>
                    <item material="gold spade" unbreakable="true"/>
                </carrying>
            </not>
        </any>
    </not>
    <all id="upgraded-sword">
        <not>
            <any>
                <carrying ignore-metadata="true">
                    <item unbreakable="true" material="stone sword"/>
                </carrying>
                <carrying ignore-metadata="true">
                    <item unbreakable="true" material="iron sword"/>
                </carrying>
                <carrying ignore-metadata="true">
                    <item unbreakable="true" material="diamond sword"/>
                </carrying>
            </any>
        </not>
    </all>
    <all id="upgraded-pick">
        <any>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="iron pickaxe"/>
            </carrying>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="gold pickaxe"/>
            </carrying>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="diamond pickaxe"/>
            </carrying>
        </any>
    </all>
    <all id="upgraded-axe">
        <any>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="iron axe"/>
            </carrying>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="gold axe"/>
            </carrying>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="diamond axe"/>
            </carrying>
        </any>
    </all>
    <all id="upgraded-spade">
        <any>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="iron spade"/>
            </carrying>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="gold spade"/>
            </carrying>
            <carrying ignore-metadata="true">
                <item unbreakable="true" material="diamond spade"/>
            </carrying>
        </any>
    </all>
    <not id="not-shears">
        <carrying ignore-metadata="true">
            <item material="shears"/>
        </carrying>
    </not>
    <!-- Individual Armour visibility filters -->
    <all id="chainmail-helmet-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="chainmail helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond helmet"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="iron-helmet-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond helmet"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="diamond-helmet-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="chainmail helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond helmet"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="chainmail-helmet-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="chainmail helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond helmet"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
    <all id="iron-helmet-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond helmet"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
    <all id="diamond-helmet-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="chainmail helmet"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond helmet"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
    <all id="chainmail-chestplate-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="chainmail chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond chestplate"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="iron-chestplate-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond chestplate"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="diamond-chestplate-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="chainmail chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond chestplate"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="chainmail-chestplate-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="chainmail chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond chestplate"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
    <all id="iron-chestplate-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond chestplate"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
    <all id="diamond-chestplate-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="chainmail chestplate"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond chestplate"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
    <!-- Team Armour visibility filters -->
    <all id="chainmail-set-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="chainmail boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond boots"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="iron-set-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond boots"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="diamond-set-0">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="chainmail boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond boots"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-0"/>
    </all>
    <all id="chainmail-set-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="chainmail boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond boots"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
    <all id="iron-set-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="iron boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond boots"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
    <all id="diamond-set-1">
        <not>
            <any>
                <wearing ignore-metadata="true">
                    <item material="leather boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="chainmail boots"/>
                </wearing>
                <wearing ignore-metadata="true">
                    <item material="diamond boots"/>
                </wearing>
            </any>
        </not>
        <filter id="protection-1"/>
    </all>
</filters>
<regions>
    <union id="spawn-protection">
        <rectangle id="blue-protection" min="125,329" max="151,344"/>
        <rectangle id="red-protection" min="-136,329" max="-162,344"/>
    </union>
    <union id="spawn-chest-dropoffs">
        <point id="red-dropoff">-147.5,14,336.5</point>
        <point id="blue-dropoff">136.5,14,336.5</point>
    </union>
    <union id="wool-rooms">
        <union id="blue-wool-rooms"> <!-- Blue defends -->
            <cuboid id="pink-wool-room" min="147,0,370" max="166,46,385"/>
            <cuboid id="purple-wool-room" min="112,0,262" max="97,46,243"/>
        </union>
        <union id="red-wool-rooms"> <!-- Red defends -->
            <cuboid id="orange-wool-room" min="-108,0,411" max="-122,46,430"/>
            <cuboid id="yellow-wool-room" min="-158,0,288" max="-177,46,303"/>
        </union>
    </union>
    <union id="team-bases">
        <rectangle id="blue-base-region" min="38,385" max="166,243"/>
        <rectangle id="red-base-region" min="-49,288" max="-177,430"/>
    </union>
    <union id="lanes">
        <rectangle id="middle" min="-74,302" max="63,371"/>
        <rectangle id="red-left-lane" min="-111,314" max="-100,300"/>
        <rectangle id="red-right-lane" min="-94,374" max="-108,389"/>
        <rectangle id="blue-left-lane" min="100,359" max="89,373"/>
        <rectangle id="blue-right-lane" min="83,284" max="97,299"/>
    </union>
    <union id="spawners">
        <union id="south-spawner">
            <point id="south-point">-5.5,16,388.5</point>
            <cylinder id="south-player" base="-5.5,16,388.5" radius="5" height="3"/>
        </union>
        <union id="north-spawner">
            <point id="north-point">-5.5,16,284.5</point>
            <cylinder id="north-player" base="-5.5,16,284.5" radius="5" height="3"/>
        </union>
        <union id="spawner-protection">
            <cuboid id="south-protection" min="-3,14,386" max="-8,18,391"/>
            <cuboid id="north-protection" min="-3,14,282" max="-8,18,287"/>
        </union>
    </union>
    <negative id="void-area">
        <region id="spawn-protection"/>
        <region id="wool-rooms"/>
        <region id="lanes"/>
    </negative>
    <apply block="never" region="spawner-protection" message="You may not break or place around the spawner!"/>
    <apply block="no-enderchest" message="You may not break the ender chest!"/>
    <apply enter="only-blue" region="blue-protection" message="You may not enter the opponent's spawn!"/>
    <apply enter="only-red" region="red-protection" message="You may not enter the opponent's spawn!"/>
    <apply enter="only-blue" region="red-wool-rooms" message="You may not enter your own wool room!"/>
    <apply enter="only-red" region="blue-wool-rooms" message="You may not enter your own wool room!"/>
    <apply block="blue-in-wr" use="only-blue" region="red-wool-rooms" message="You may not interact with this block!"/>
    <apply block="red-in-wr" use="only-red" region="blue-wool-rooms" message="You may not interact with this block!"/>
    <apply block-place="deny-void" region="void-area" message="You may not build in the void area!"/>
    <apply block="never" region="spawn-protection" message="You may not modify the spawns!"/>
</regions>
<spawners>
    <spawner spawn-region="south-point" player-region="south-player" delay="8s">
        <item material="gold nugget" amount="1"/>
    </spawner>
    <spawner spawn-region="north-point" player-region="north-player" delay="8s">
        <item material="gold nugget" amount="1"/>
    </spawner>
</spawners>
<shopkeepers>
    <shopkeepers name="`b`lItem Shop" shop="item-shop">
        <if variant="default">
            <shopkeeper yaw="-90">131.5,14,339.5</shopkeeper> <!-- Blue -->
            <shopkeeper yaw="90">-142.5,14,333.5</shopkeeper> <!-- Red -->
        </if>
        <if variant="halloween">
            <shopkeeper yaw="-90">131.5,15,342.5</shopkeeper> <!-- Blue -->
            <shopkeeper yaw="90">-142.5,15,330.5</shopkeeper> <!-- Red -->
        </if>
    </shopkeepers>
    <shopkeepers name="`b`lUpgrade Shop" shop="upgrade-shop">
        <if variant="default">
            <shopkeeper yaw="-90">131.5,14,333.5</shopkeeper> <!-- Blue -->
            <shopkeeper yaw="90">-142.5,14,339.5</shopkeeper> <!-- Red -->
        </if>
        <if variant="halloween">
            <shopkeeper yaw="-90">131.5,15,330.5</shopkeeper> <!-- Blue -->
            <shopkeeper yaw="90">-142.5,15,342.5</shopkeeper> <!-- Red -->
        </if>
    </shopkeepers>
</shopkeepers>
<shops>
    <shop id="item-shop" name="Items">
        <category id="blocks" name="`aBlocks" material="hard clay">
            <item material="wood" amount="32" price="1" currency="gold nugget"/>
            <item material="cobblestone" amount="32" price="1" currency="gold nugget"/>
            <item material="stained clay" team-color="true" amount="16" price="1" currency="gold nugget"/>
            <item material="stained glass" team-color="true" amount="16" price="1" currency="gold nugget"/>
            <item material="iron fence" amount="16" price="2" currency="gold nugget"/>
            <item material="redstone block" amount="16" price="4" currency="gold nugget"/>
        </category>
        <category id="weapons" name="`aWeapons" material="gold sword">
            <item material="diamond sword" unbreakable="true" amount="1" price="16" currency="gold nugget" kit="diamond-sword-sharp0" filter="sharpness-0"/>
            <item material="diamond sword" unbreakable="true" enchantment="sharpness" amount="1" price="16" currency="gold nugget" kit="diamond-sword-sharp1" filter="sharpness-1"/>
            <item material="stick" name="`rKnockback Stick" enchantment="knockback:1" amount="1" price="6" currency="gold nugget"/>
            <item material="arrow" amount="16" price="1" currency="gold nugget"/>
            <item material="bow" unbreakable="true" enchantment="power:1" name="`rPower Bow" amount="1" price="12" currency="gold nugget" kit="powerbow"/>
            <item material="bow" unbreakable="true" enchantment="power:1;infinity" name="`rPower &amp; Infinity Bow" amount="1" price="24" currency="gold nugget" kit="powerinfinitybow"/>
            <item material="fishing rod" unbreakable="true" amount="1" price="4" currency="gold nugget"/>
        </category>
        <category id="individualarmour" name="`aIndividual Armour" material="chainmail chestplate">
            <item material="chainmail helmet" name="`rIndividual Chainmail Helmet" price="4" currency="gold nugget" kit="chainmailhelmet-kit-0" filter="chainmail-helmet-0"/>
            <item material="iron helmet" name="`rIndividual Iron Helmet" price="8" currency="gold nugget" kit="ironhelmet-kit-0" filter="iron-helmet-0"/>
            <item material="diamond helmet" name="`rIndividual Diamond Helmet" price="16" currency="gold nugget" kit="diamondhelmet-kit-0" filter="diamond-helmet-0"/>
            <item material="chainmail helmet" enchantment="protection" name="`rIndividual Chainmail Helmet" price="4" currency="gold nugget" kit="chainmailhelmet-kit-1" filter="chainmail-helmet-1"/>
            <item material="iron helmet" enchantment="protection" name="`rIndividual Iron Helmet" price="8" currency="gold nugget" kit="ironhelmet-kit-1" filter="iron-helmet-1"/>
            <item material="diamond helmet" enchantment="protection" name="`rIndividual Diamond Helmet" price="16" currency="gold nugget" kit="diamondhelmet-kit-1" filter="diamond-helmet-1"/>
            <item material="chainmail chestplate" name="`rIndividual Chainmail Chestplate" price="8" currency="gold nugget" kit="chainmailchestplate-kit-0" filter="chainmail-chestplate-0"/>
            <item material="iron chestplate" name="`rIndividual Iron Chestplate" price="16" currency="gold nugget" kit="ironchestplate-kit-0" filter="iron-chestplate-0"/>
            <item material="diamond chestplate" name="`rIndividual Diamond Chestplate" price="24" currency="gold nugget" kit="diamondchestplate-kit-0" filter="diamond-chestplate-0"/>
            <item material="chainmail chestplate" enchantment="protection" name="`rIndividual Chainmail Chestplate" price="8" currency="gold nugget" kit="chainmailchestplate-kit-1" filter="chainmail-chestplate-1"/>
            <item material="iron chestplate" enchantment="protection" name="`rIndividual Iron Chestplate" price="16" currency="gold nugget" kit="ironchestplate-kit-1" filter="iron-chestplate-1"/>
            <item material="diamond chestplate" enchantment="protection" name="`rIndividual Diamond Chestplate" price="24" currency="gold nugget" kit="diamondchestplate-kit-1" filter="diamond-chestplate-1"/>
        </category>
        <category id="tools" name="`aTools" material="stone pickaxe">
            <item material="shears" name="`rShears" unbreakable="true" price="2" currency="gold nugget" filter="not-shears"/>
            <item material="iron pickaxe" unbreakable="true" enchantment="efficiency:1" amount="1" filter="not-iron-pickaxe">
                <payment price="2" currency="gold nugget"/>
                <payment price="1" currency="stone pickaxe"/>
            </item>
            <item material="gold pickaxe" unbreakable="true" amount="1" filter="not-gold-pickaxe">
                <payment price="6" currency="gold nugget"/>
                <payment price="1" currency="iron pickaxe"/>
            </item>
            <item material="diamond pickaxe" unbreakable="true" enchantment="efficiency:2" amount="1" filter="not-diamond-pickaxe">
                <payment price="12" currency="gold nugget"/>
                <payment price="1" currency="gold pickaxe"/>
            </item>
            <item material="iron axe" unbreakable="true" enchantment="efficiency:1" amount="1" filter="not-iron-axe">
                <payment price="2" currency="gold nugget"/>
                <payment price="1" currency="stone axe"/>
            </item>
            <item material="gold axe" unbreakable="true" amount="1" filter="not-gold-axe">
                <payment price="6" currency="gold nugget"/>
                <payment price="1" currency="iron axe"/>
            </item>
            <item material="diamond axe" unbreakable="true" enchantment="efficiency:2" amount="1" filter="not-diamond-axe">
                <payment price="12" currency="gold nugget"/>
                <payment price="1" currency="gold axe"/>
            </item>
            <item material="iron spade" unbreakable="true" enchantment="efficiency:1" amount="1" filter="not-iron-spade">
                <payment price="2" currency="gold nugget"/>
                <payment price="1" currency="stone spade"/>
            </item>
            <item material="gold spade" unbreakable="true" amount="1" filter="not-gold-spade">
                <payment price="6" currency="gold nugget"/>
                <payment price="1" currency="iron spade"/>
            </item>
            <item material="diamond spade" unbreakable="true" enchantment="efficiency:2" amount="1" filter="not-diamond-spade">
                <payment price="12" currency="gold nugget"/>
                <payment price="1" currency="gold spade"/>
            </item>
        </category>
        <category id="potions" name="`aPotions" material="brewing stand item">
            <item material="potion" name="`rInstant Health II" damage="16389" amount="1" price="6" currency="gold nugget">
                <effect amplifier="2">instant_health</effect>
            </item>
            <item material="potion" name="`rInstant Damage II" damage="16396" amount="1" price="4" currency="gold nugget">
                <effect amplifier="2">instant_damage</effect>
            </item>
            <item material="potion" name="`rJump Boost II (1:00)" damage="11" amount="1" price="8" currency="gold nugget">
                <effect duration="60s" amplifier="2">jump_boost</effect>
            </item>
        </category>
        <category id="utilities" name="`aUtilities" material="tnt">
            <item material="golden apple" amount="1" price="2" currency="gold nugget"/>
            <item material="tnt" lore="`7Instantly ignites once placed." amount="1" price="8" currency="gold nugget"/>
            <item material="sponge" amount="1" price="1" currency="gold nugget"/>
        </category>
        <if variant="halloween">
            <category id="halloweengoodies" name="`aHalloween Goodies" material="jack o lantern">
                <item material="firework" name="`6Festive Firework" price="1" currency="gold nugget" kit="festivefirework"/>
                <item material="egg" name="`6Evil Egg" lore="`r`3Useful for egging houses" price="1" currency="gold nugget"/>
                <item material="saddle" name="`6Horseman's Spare Horse" price="16" currency="gold nugget" kit="horsemanhorse"/>
            </category>
        </if>
    </shop>
    <shop id="upgrade-shop" name="Team Upgrades">
        <category id="upgrades" name="`aTeam Upgrades" material="beacon">
            <item material="chainmail boots" name="`7`lChainmail Kit" lore="`7Your team's spawn kit now|`7has chainmail leggings and boots" price="32" currency="gold nugget" kit="chainmail-team0-kit" filter="chainmail-set-0"/>
            <item material="iron boots" name="`f`lIron Kit" lore="`7Your team's spawn kit now|`7has iron leggings, boots, and sword" price="64" currency="gold nugget" kit="iron-team0-kit" filter="iron-set-0"/>
            <item material="diamond boots" name="`b`lDiamond Kit" lore="`7Your team's spawn kit now|`7has diamond leggings and boots" price="128" currency="gold nugget" kit="diamond-team0-kit" filter="diamond-set-0"/>
            <item material="chainmail boots" name="`7`lChainmail Kit" lore="`7Your team's spawn kit now|`7has chainmail leggings and boots" price="32" currency="gold nugget" kit="chainmail-team0-kit" filter="chainmail-set-1"/>
            <item material="iron boots" name="`f`lIron Kit" lore="`7Your team's spawn kit now|`7has iron leggings, boots, and sword" price="64" currency="gold nugget" kit="iron-team0-kit" filter="iron-set-1"/>
            <item material="diamond boots" name="`b`lDiamond Kit" lore="`7Your team's spawn kit now|`7has diamond leggings and boots" price="128" currency="gold nugget" kit="diamond-team0-kit" filter="diamond-set-1"/>
            <item material="iron sword" name="`4`lSharpness I" lore="`7Your team permanently gains|`7Sharpness I on all swords" price="128" currency="gold nugget" action="sharpness-dummy" filter="sharpness-0"/>
            <item material="anvil" name="`e`lProtection I" lore="`7Your team permanently gains|`7Protection I on all armor pieces." price="64" currency="gold nugget" action="protection-dummy-1" filter="protection-0"/>
            <item material="gold pickaxe" name="`6`lHaste I" lore="`7All players on your team|`7permanently gain Haste I!." price="48" currency="gold nugget" action="haste-dummy-1" filter="haste-0"/>
            <item material="diamond pickaxe" name="`6`lHaste II" lore="`7All players on your team|`7permanently gain Haste II!." price="64" currency="gold nugget" action="haste-dummy-2" filter="haste-1"/>
            <item material="feather" name="`c`lSpeed I" lore="`7All players on your team|`7permanently gain Speed I!." price="64" currency="gold nugget" action="speed-dummy" filter="speed-0"/>
            <item material="poisonous potato" name="`7`lMining Fatigue Trap" lore="`7Enemies who enter your side will|`7receive Mining Fatigue I." price="48" currency="gold nugget" action="fatigue-dummy" filter="fatigue-0"/>
        </category>
    </shop>
</shops>
<wools craftable="false">
    <!-- Blue Team -->
    <wool team="blue" color="yellow" location="-168.5,18,295.5">
        <monument>
            <if variant="default">
                <block>147,19,334</block>
            </if>
            <if variant="halloween">
                <block>145,17,335</block>
            </if>
        </monument>
    </wool>
    <if variant="default">
        <wool team="blue" color="orange" location="-115.5,16,423.5">
            <monument>
                <block>147,19,338</block>
            </monument>
        </wool>
    </if>
    <if variant="halloween">
        <wool team="blue" color="red" location="-115.5,16,423.5">
            <monument>
                <block>145,17,337</block>
            </monument>
        </wool>
    </if>
    <!-- Red Team -->
    <wool team="red" color="pink" location="157.5,18,377.5">
        <monument>
            <if variant="default">
                <block>-159,19,338</block>
            </if>
            <if variant="halloween">
                <block>-157,17,337</block>
            </if>
        </monument>
    </wool>
    <if variant="default">
        <wool team="red" color="purple" location="104.5,16,249.5">
            <monument>
                <block>-159,19,334</block>
            </monument>
        </wool>
    </if>
    <if variant="halloween">
        <wool team="red" color="blue" location="104.5,16,249.5">
            <monument>
                <block>-157,17,335</block>
            </monument>
        </wool>
    </if>
</wools>
<toolrepair>
    <tool>stone pickaxe</tool>
    <tool>gold pickaxe</tool>
    <tool>iron pickaxe</tool>
    <tool>diamond pickaxe</tool>
    <tool>stone axe</tool>
    <tool>gold axe</tool>
    <tool>iron axe</tool>
    <tool>diamond axe</tool>
    <tool>stone spade</tool>
    <tool>gold spade</tool>
    <tool>iron spade</tool>
    <tool>diamond spade</tool>
    <tool>stone sword</tool>
    <tool>iron sword</tool>
    <tool>diamond sword</tool>
    <tool>shears</tool>
    <tool>bow</tool>
</toolrepair>
<itemremove>
    <item>string</item>
    <item>redstone</item>
    <item>redstone torch off</item>
    <item>sapling</item>
    <item>seeds</item>
    <item>water lily</item>
    <item>sugar cane</item>
    <item>red rose</item>
    <item>golden apple</item>
    <item>water bucket</item>
    <item>bucket</item>
    <item>arrow</item>
    <item>gold block</item>
    <item>dirt</item>
    <item>stone</item>
    <item>cobblestone</item>
    <item>stained clay</item>
    <item>wood</item>
    <item>log</item>
    <item>stained glass</item>
    <item>sponge</item>
    <item>clay ball</item>
    <item>leather helmet</item>
    <item>leather chestplate</item>
    <item>leather leggings</item>
    <item>leather boots</item>
    <item>chainmail helmet</item>
    <item>chainmail chestplate</item>
    <item>chainmail leggings</item>
    <item>chainmail boots</item>
    <item>iron helmet</item>
    <item>iron chestplate</item>
    <item>iron leggings</item>
    <item>iron boots</item>
    <item>diamond helmet</item>
    <item>diamond chestplate</item>
    <item>diamond leggings</item>
    <item>diamond boots</item>
    <item>stone pickaxe</item>
    <item>gold pickaxe</item>
    <item>iron pickaxe</item>
    <item>diamond pickaxe</item>
    <item>stone axe</item>
    <item>gold axe</item>
    <item>iron axe</item>
    <item>diamond axe</item>
    <item>stone spade</item>
    <item>gold spade</item>
    <item>iron spade</item>
    <item>diamond spade</item>
    <item>stone sword</item>
    <item>iron sword</item>
    <item>diamond sword</item>
    <item>shears</item>
    <item>bow</item>
    <if variant="halloween">
        <item>jack o lantern</item>
        <item>brown mushroom</item>
        <item>red mushroom</item>
        <item>wool:13</item>
        <item>quartz block</item>
        <item>prismarine</item>
        <item>step:7</item>
        <item>wood step:4</item>
        <item>wood step:5</item>
        <item>coal block</item>
        <item>log 2</item>
        <item>nether brick stairs</item>
        <item>hard clay</item>
        <item>smooth brick</item>
        <item>soul sand</item>
        <item>flint</item>
        <item>gravel</item>
        <item>nether stalk</item>
    </if>
</itemremove>
<itemkeep>
    <item>stone pickaxe</item>
    <item>gold pickaxe</item>
    <item>iron pickaxe</item>
    <item>diamond pickaxe</item>
    <item>stone axe</item>
    <item>gold axe</item>
    <item>iron axe</item>
    <item>diamond axe</item>
    <item>stone spade</item>
    <item>gold spade</item>
    <item>iron spade</item>
    <item>diamond spade</item>
    <item>stone sword</item>
    <item>iron sword</item>
    <item>diamond sword</item>
    <item>shears</item>
    <item>bow</item>
    <item>stick</item>
</itemkeep>
<armorkeep>
    <item>leather helmet</item>
    <item>leather chestplate</item>
    <item>leather leggings</item>
    <item>leather boots</item>
    <item>chainmail helmet</item>
    <item>chainmail chestplate</item>
    <item>chainmail leggings</item>
    <item>chainmail boots</item>
    <item>iron helmet</item>
    <item>iron chestplate</item>
    <item>iron leggings</item>
    <item>iron boots</item>
    <item>diamond helmet</item>
    <item>diamond chestplate</item>
    <item>diamond leggings</item>
    <item>diamond boots</item>
</armorkeep>
<block-drops>
    <rule>
        <filter>
            <any>
                <material>stone</material>
                <material>dirt</material>
                <material>grass</material>
                <material>sand</material>
                <material>sandstone</material>
                <material>stained clay:9</material>
                <material>clay</material>
                <if variant="halloween">
                    <material>hard clay</material>
                    <material>soul sand</material>
                    <material>gravel</material>
                    <material>stained clay:8</material>
                </if>
            </any>
        </filter>
        <drops>
            <item chance="0.05" material="gold nugget"/>
        </drops>
    </rule>
</block-drops>
<tnt>
    <instantignite>on</instantignite>
</tnt>
<enderchest>
    <dropoff region="red-dropoff" filter="only-red"/>
    <dropoff region="blue-dropoff" filter="only-blue"/>
</enderchest>
<kill-rewards>
    <kill-reward>
        <item amount="16" material="wood"/>
        <item amount="8" material="stained glass" team-color="true"/>
        <item amount="1" material="gold nugget"/>
    </kill-reward>
</kill-rewards>
<maxbuildheight>32</maxbuildheight>
<hunger>
    <depletion>off</depletion>
</hunger>
</map>