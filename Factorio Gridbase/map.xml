<?xml version="1.0" encoding="UTF-8"?>
<map proto="1.4.0">
<name>Factorio Gridbase</name>
<version>1.0.1</version>
<objective>Capture the enemy teams wools!</objective>
<phase>development</phase>
<gamemode>ctw</gamemode>
<authors>
    <author uuid="5d1191a6-9114-493e-9867-d31cdd86a603" /> <!-- JTBC -->
</authors>
<contributors>
    <contributor uuid="621b2aa8-4e5f-4ed8-bd36-0ae2f8952a06" contribution="Feedback-Balancing" /> <!-- Strangey -->
</contributors>
<teams>
    <team id="red" color="dark red" max="32">Red</team>
    <team id="blue" color="blue" max="32">Blue</team>
</teams>
<kits>
    <kit id="spawn" force="true">
		<clear/>
        <item slot="0">iron sword</item>
        <item slot="1" enchantment="arrow infinite">bow</item>
        <item slot="28">arrow</item>
        <item slot="2" unbreakable="true">iron pickaxe</item>
        <item slot="3" unbreakable="true">iron axe</item>
        <item slot="4" name="Dispel" lore="Buff/Debuff Remover">milk_bucket</item>
        <item slot="8" amount="64">golden carrot</item>
        <item slot="5" amount="64">wood</item>
		<item slot="32" amount="64">wood</item>
		<item slot="23" amount="64">wood</item>
		<item slot="14" amount="64">wood</item>
        <item slot="6" material="potion" name="Drive" damage="2">
            <effect duration="60s" amplifier="1">speed</effect>
        </item>
        <item slot="7" material="potion" name="Shatter" damage="16396">
            <effect duration="1s" amplifier="1">instant_damage</effect>
        </item>
    </kit>
    <kit id="red-spawn-kit" parents="spawn">
        <helmet unbreakable="true" color="ff0000">leather helmet</helmet>
        <chestplate unbreakable="true" color="ff0000">leather chestplate</chestplate>
    </kit>
    <kit id="blue-spawn-kit" parents="spawn">
        <helmet unbreakable="true" color="0000ff">leather helmet</helmet>
        <chestplate unbreakable="true" color="0000ff">leather chestplate</chestplate>
    </kit>
</kits>
<spawns>
	<spawn team="red" kit="red-spawn-kit">
		<regions yaw="0">
			<block>52.5,7,-228</block>
		</regions>
	</spawn>
	<spawn team="blue" kit="blue-spawn-kit">
		<regions yaw="180">
			<block>52.5,7,-65</block>
		</regions>
	</spawn>
	<default>
		<regions yaw="0">
			<block>-57,65,-147</block>
		</regions>
	</default>
</spawns>
<filters>
    <not id="no-void">
        <void />
    </not>
    <not id="deny-red">
        <team>red</team>
    </not>
    <not id="deny-blue">
        <team>blue</team>
    </not>
    <any id="only-iron">
        <material>iron_block</material>
    </any>
    <not id="deny-spawner">
        <material>mob_spawner</material>
    </not>
	<not id="deny-spawn-building">
		<any>
            <material>smooth stairs</material>
            <material>stone</material>
            <material>quartz stairs</material>
            <material>stained glass pane</material>
			<material>quartz block</material>
		</any>
	</not>
	<any id="cobwebs">
		<material>web</material>
	</any>
</filters>
<regions>
    <negative id="non-bridge">
        <rectangle id="main-area" min="-1,-311" max="107,16" />
    </negative>
    <union id="disallowed-area">
        <rectangle min="33,-57" max="73,16" />
        <rectangle min="33,-238" max="73,-311" />
    </union>
    <union id="spawns">
        <region id="blue-spawn" />
        <region id="red-spawn" />
    </union>
    <union id="wool-rooms">
        <region id="blue-wool-1" />
        <region id="red-wool-1" />
        <region id="blue-wool-2" />
        <region id="red-wool-2" />
    </union>
    <union id="red-zones">
        <region id="red-spawn" />
		<region id="red-spawn-2" />
        <region id="blue-wool-1" />
        <region id="blue-wool-2" />
    </union>
    <union id="blue-zones">
        <region id="blue-spawn" />
		<region id="blue-spawn-2" />
        <region id="red-wool-1" />
        <region id="red-wool-2" />
    </union>
    <union id="iron">
        <cuboid min="61,7,-223" max="63,11,-227" />
        <cuboid min="44,7,-227" max="42,11,-223" />
        <cuboid min="44,7,-72" max="42,11,-68" />
        <cuboid min="63,7,-72" max="61,11,-68" />
    </union>
    <cuboid id="red-spawn" min="66,0,-215" max="40,12,-233" />
	<cuboid id="red-spawn-2" min="66,0,-228" max="40,20,-233" />
	<rectangle id="red-building" min="66,-215" max="40,-233" />
    <rectangle id="red-wool-1" min="-1,-277" max="33,-311" />
    <rectangle id="red-wool-2" min="73,-277" max="107,-311" />
    <cuboid id="blue-spawn" min="40,0,-79" max="66,12,-61" />
	<cuboid id="blue-spawn-2" min="40,0,-66" max="66,20,-61" />
	<rectangle id="blue-building" min="40,-79" max="66,-61" />
    <rectangle id="blue-wool-1" min="33,-17" max="-1,16" />
    <rectangle id="blue-wool-2" min="73,-17" max="107,16" />
    <!-- Applyness -->
	<apply block-place="never" block-break="cobwebs" region="wool-rooms" message="You may not modify the woolroom!"/>
    <apply block="never" message="You may not modify the void area!" region="disallowed-area" />
    <apply block="only-iron" region="spawns" message="You may only break iron blocks in spawn!" />
    <apply enter="deny-blue" message="Only red team may enter this region" region="red-zones" />
	<apply block="deny-spawn-building" message="You may not break the spawn building!" region="red-building"/>
	<apply block="deny-spawn-building" message="You may not break the spawn building!" region="blue-building"/>
    <apply enter="deny-red" message="Only blue team may enter this region!" region="blue-zones" />
    <apply block="deny-spawner" message="You may not destroy the spawner!" region="main-area" />
    <apply block="no-void" message="You may not modify the void area!" region="non-bridge" />
</regions>
<wools team="red">
    <wool color="green" location="96,6,-3">
        <monument>
            <block>54,8,-207</block>
        </monument>
    </wool>
    <wool color="red" location="22,6,-3">
        <monument>
            <block>51,8,-207</block>
        </monument>
    </wool>
</wools>
<wools team="blue">
    <wool color="purple" location="9,6,-292">
        <monument>
            <block>51,8,-88</block>
        </monument>
    </wool>
    <wool color="cyan" location="83,6,-292">
        <monument>
            <block>54,8,-88</block>
        </monument>
    </wool>
</wools>
<renewables>
    <renewable interval="5" grow="true" particles="true" sound="false" avoid-players="2">
        <region>
            <region id="iron" />
        </region>
        <renew-filter>
            <material>iron_block</material>
        </renew-filter>
        <replace-filter>
            <material>air</material>
        </replace-filter>
    </renewable>
</renewables>
<toolrepair>
	<tool>iron sword</tool>
	<tool>iron axe</tool>
	<tool>arrow</tool>
	<tool>iron pickaxe</tool>
	<tool>bow</tool>
</toolrepair>
<itemremove>
	<item>golden carrot</item>
	<item>stained_clay</item>
	<item>leather helmet</item>
	<item>leather chestplate</item>
	<item>wood</item>
	<item>bucket</item>
	<item>milk bucket</item>
	<item>string</item>
</itemremove>
<itemkeep>
	<item>potion</item>
</itemkeep>
<kill-reward>
	<item material="potion" name="Emerald Apple" damage="11">
		<effect duration="60s" amplifier="2">absorption</effect>
		<effect duration="5s" amplifier="2">regeneration</effect>
	</item>
	<item material="wood" amount="32"/>
</kill-reward>
<maxbuildheight>33</maxbuildheight>
<respawn delay="3s" />
<broadcasts>
    <tip after="1s" every="3m">You can find a potion spawner on most of the structures. Obtain potions to get an advantage for this match!</tip>
    <tip after="10s" every="3m">Most potions' respawn time is 30 seconds, and some powerful potions have a 15-30 second initial delay with a 60-90 second respawn time.
</broadcasts>
</map>
