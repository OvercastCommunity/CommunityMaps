<map proto="1.4.0">
<name>Zipline</name>
<version>1.0.0</version>
<objective>Hold the flag for 250 seconds to win!</objective>
<authors>
    <author uuid="1aad55f7-2dea-4f22-85ca-ad9de3a78609"/>
    <!--  Technodono  -->
</authors>
<rules>
    <rule>Fall damage is disabled!</rule>
	<rule>You can only respawn when your team doesn't have the flag!</rule>
</rules>
<!--  Tips -->
<broadcasts>
    <tip after="0m" every="3m">Ziplines transport you really fast in a direction as indicated by the arrows! Use them to get around.</tip>
	<tip after="90s" every="3m">The flag can spawn at the top or bottom platfrom... Make sure you split up your team to have a better chance of getting the flag!</tip>
</broadcasts>
<!--  Teams and Kits  -->
<teams>
    <team id="Red" color="dark_red" max="20" max-overfill="24">Red</team>
    <team id="Blue" color="dark_blue" max="20" max-overfill="24">Blue</team>
</teams>
<kits>
    <kit id="spawn">
        <item slot="0" unbreakable="true">stone sword</item>
        <item slot="1" unbreakable="true">bow</item>
        <item slot="8" amount="24">arrow</item>
        <chestplate unbreakable="true">chainmail chestplate</chestplate>
        <boots unbreakable="true">chainmail boots</boots>
        <item slot="2" amount="8">cooked beef</item>
        <item slot="3">golden apple</item>
		<potion amplifier="25" duration="oo">night vision</potion>
        <health>20</health>
    </kit>
	<kit id="obs">
        <potion amplifier="25" duration="oo">night vision</potion>
    </kit>
    <kit id="red" parents="spawn">
        <helmet color="ff0000" unbreakable="true">leather helmet</helmet>
        <leggings color="ff0000" unbreakable="true">leather leggings</leggings>
    </kit>
    <kit id="blue" parents="spawn">
        <helmet color="004aff" unbreakable="true">leather helmet</helmet>
        <leggings color="004aff" unbreakable="true">leather leggings</leggings>
    </kit>
    <kit id="flag_pickup" force="true">
        <potion duration="oo" amplifier="-3">health boost</potion>
        <potion duration="3" amplifier="2">absorption</potion>
    </kit>
    <kit id="reset-health" force="true">
        <potion duration="1" amplifier="0">health boost</potion>
        <potion duration="1" amplifier="10">regeneration</potion>
    </kit>
</kits>
<!--  Spawns and respawns  -->
<spawns>
    <spawn team="Red" kit="red" yaw="0" filter="no-flag">
	    <region>
            <cuboid min="-5,20,-56" max="5,20,-53"/>
		</region>
    </spawn>
    <spawn team="Blue" kit="blue" yaw="180" filter="no-flag">
	    <region>
            <cuboid min="-5,20,56" max="5,20,53"/>
		</region>
    </spawn>
    <default kit="obs" yaw="-90">
	    <region>
            <point>30.5,25,0.5</point>
		</region>
    </default>
</spawns>
<respawn spectate="true">
    <message>
        { translate: "death.respawn.confirmed.waiting.flagDropped" }
    </message>
</respawn>
<!-- spawn region stuff   -->
<regions>
    <apply block="never" message="`lYou may not edit the map! `e⚠">
        <everywhere />
    </apply>
	    <!-- Enter -->
    <apply enter="only-blue" message="`lYou may not enter the opposing team's spawn! `e⚠">
        <region>
            <cuboid min="25,16,51" max="-25,29,56"/>
        </region>
    </apply>
    <apply enter="only-red" message="`lYou may not enter the opposing team's spawn! `e⚠">
        <region>
            <cuboid min="-25,16,-51" max="25,29,-56"/>
        </region>
    </apply>
<!--  Jumpads and Boost lanes  -->

<!--  Blue  -->

<!--  Middle lane  -->
	<apply velocity="@0.0,0.37,-50.0" >
	    <region>
            <cuboid min="1,16,50" max="-1,16.5,12"/>
	    </region>
	</apply>

<!--  Blue's left side  -->

<!--  Right lanes  -->
	<apply velocity="0.0,5,0">
	    <region>
            <cuboid min="11,16,48" max="13,18,46"/>
	    </region>
	</apply>
	<apply velocity="0.0,-1,-50.0">
	    <region>
            <cuboid min="10,25,45" max="13,28,49"/>
	    </region>
	</apply>
	<apply velocity="-50.0,0.37,0.0" >
	    <region>
            <cuboid min="8,25,33" max="13,27,31"/>
	    </region>
	</apply>
	<apply velocity="0.0,0.37,-50.0" >
	    <region>
            <cuboid min="5,25,33" max="7,27,12"/>
	    </region>
	</apply>
<!--  Rightmost lanes  -->
	<apply velocity="@0.0,0.37,-50.0" >
	    <region>
            <cuboid min="20,16,50" max="22,16.5,24"/>
	    </region>
	</apply>
		<apply velocity="0.0,1,-0.4" >
	    <region>
            <cuboid min="20,16,23" max="22,19,21"/>
	    </region>
	</apply>
		<apply velocity="0.0,0.7,-0.4" >
	    <region>
            <cuboid min="20,21,20" max="22,23,17"/>
	    </region>
	</apply>
<!--  Jumpads  -->
    <apply velocity="0.6,1,0.0">
	    <region>
            <cuboid min="5,16,33" max="7,18,35"/>
	    </region>
	</apply>
    <apply velocity="0.6,1,0.0">
	    <region>
            <cuboid min="5,16,22" max="7,18,24"/>
	    </region>
	</apply>
<!--  Blue's right side  -->

<!--  Right lanes  -->
	<apply velocity="0.0,5,0" >
	    <region>
            <cuboid min="-11,16,48" max="-13,18,46"/>
	    </region>
	</apply>
	<apply velocity="0.0,-1,-50.0" >
	    <region>
            <cuboid min="-10,25,45" max="-13,28,49"/>
	    </region>
	</apply>
	<apply velocity="50.0,0.37,0.0" >
	    <region>
            <cuboid min="-8,25,33" max="-13,27,31"/>
	    </region>
	</apply>
	<apply velocity="0.0,0.37,-50.0" >
	    <region>
            <cuboid min="-5,25,33" max="-7,27,12"/>
	    </region>
	</apply>
<!--  Rightmost lanes  -->
	<apply velocity="0.0,0.37,-50.0" >
	    <region>
            <cuboid min="-20,16,50" max="-22,16.5,24"/>
	    </region>
	</apply>
		<apply velocity="0.0,1,-0.4" >
	    <region>
            <cuboid min="-20,16,23" max="-22,19,21"/>
	    </region>
	</apply>
		<apply velocity="0.0,0.7,-0.4" >
	    <region>
            <cuboid min="-20,21,20" max="-22,23,17"/>
	    </region>
	</apply>
<!--  Jumpads  -->
    <apply velocity="-0.6,1,0.0">
	    <region>
            <cuboid min="-5,16,33" max="-7,18,35"/>
	    </region>
	</apply>
    <apply velocity="-0.6,1,0.0">
	    <region>
            <cuboid min="-5,16,22" max="-7,18,24"/>
	    </region>
	</apply>



<!--  Red  -->

<!--  Middle lane  -->
	<apply velocity="@0.0,0.37,50.0" >
	    <region>
            <cuboid min="1,16,-50" max="-1,16.5,-12"/>
	    </region>
	</apply>

<!--  Red's left side  -->

<!--  Right lanes  -->
	<apply velocity="0.0,5,0" >
	    <region>
            <cuboid min="11,16,-48" max="13,18,-46"/>
	    </region>
	</apply>
	<apply velocity="0.0,-1,50.0" >
	    <region>
            <cuboid min="10,25,-45" max="13,28,-49"/>
	    </region>
	</apply>
	<apply velocity="-50.0,0.37,0.0" >
	    <region>
            <cuboid min="8,25,-33" max="13,27,-31"/>
	    </region>
	</apply>
	<apply velocity="0.0,0.37,50.0" >
	    <region>
            <cuboid min="5,25,-33" max="7,27,-12"/>
	    </region>
	</apply>
<!--  Rightmost lanes  -->
	<apply velocity="@0.0,0.37,50.0" >
	    <region>
            <cuboid min="20,16,-50" max="22,16.5,-24"/>
	    </region>
	</apply>
		<apply velocity="0.0,1,0.4" >
	    <region>
            <cuboid min="20,16,-23" max="22,19,-21"/>
	    </region>
	</apply>
		<apply velocity="0.0,0.7,0.4" >
	    <region>
            <cuboid min="20,21,-20" max="22,23,-17"/>
	    </region>
	</apply>
<!--  Jumpads  -->
    <apply velocity="0.6,1,0.0">
	    <region>
            <cuboid min="5,16,-33" max="7,18,-35"/>
	    </region>
	</apply>
    <apply velocity="0.6,1,0.0">
	    <region>
            <cuboid min="5,16,-22" max="7,18,-24"/>
	    </region>
	</apply>

<!--  RED's right side  -->

<!--  Right lanes  -->
	<apply velocity="0.0,5,0" >
	    <region>
            <cuboid min="-11,16,-48" max="-13,18,-46"/>
	    </region>
	</apply>
	<apply velocity="0.0,-1,50.0" >
	    <region>
            <cuboid min="-10,25,-45" max="-13,28,-49"/>
	    </region>
	</apply>
	<apply velocity="50.0,0.37,0.0" >
	    <region>
            <cuboid min="-8,25,-33" max="-13,27,-31"/>
	    </region>
	</apply>
	<apply velocity="0.0,0.37,50.0" >
	    <region>
            <cuboid min="-5,25,-33" max="-7,27,-12"/>
	    </region>
	</apply>
<!--  Rightmost lanes  -->
	<apply velocity="0.0,0.37,50.0" >
	    <region>
            <cuboid min="-20,16,-50" max="-22,16.5,-24"/>
	    </region>
	</apply>
		<apply velocity="0.0,1,0.4" >
	    <region>
            <cuboid min="-20,16,-23" max="-22,19,-21"/>
	    </region>
	</apply>
		<apply velocity="0.0,0.7,0.4" >
	    <region>
            <cuboid min="-20,21,-20" max="-22,23,-17"/>
	    </region>
	</apply>
<!--  Jumpads  -->
    <apply velocity="-0.6,1,0.0">
	    <region>
            <cuboid min="-5,16,-33" max="-7,18,-35"/>
	    </region>
	</apply>
    <apply velocity="-0.6,1,0.0">
	    <region>
            <cuboid min="-5,16,-22" max="-7,18,-24"/>
	    </region>
	</apply>
	
	<!--  Middle pads  -->
    <apply velocity="-0.6,1.4,0.0">
	    <region>
            <cuboid min="-12,10,10" max="-14,12,8"/>
	    </region>
	</apply>
	<apply velocity="-0.6,1.4,0.0">
	    <region>
            <cuboid min="-12,10,-10" max="-14,12,-8"/>
	    </region>
	</apply>
	<apply velocity="0.6,1.4,0.0">
	    <region>
            <cuboid min="12,10,10" max="14,12,8"/>
	    </region>
	</apply>
	<apply velocity="0.6,1.4,0.0">
	    <region>
            <cuboid min="12,10,-10" max="14,12,-8"/>
	    </region>
	</apply>

</regions>
<!--  Filters  -->
<filters>
    <not id="no-flag">
            <same-team>
                <carrying-flag>flag</carrying-flag>
            </same-team>
	</not>
	<team id="only-blue">Blue</team>
    <team id="only-red">Red</team>
	<all id = "blue-no-flag">
	    <not>
            <carrying-flag>flag</carrying-flag>
	    </not>
	    <team>Blue</team>
	</all>
	<all id = "red-no-flag">
	    <not>
            <carrying-flag>flag</carrying-flag>
	    </not>
	    <team>Red</team>
	</all>
</filters>
<!--  Tools and Misc item stuff  -->
<toolrepair>
    <tool>stone sword</tool>
    <tool>bow</tool>
</toolrepair>
<itemremove>
    <item>leather helmet</item>
    <item>leather leggings</item>
    <item>chainmail boots</item>
    <item>chainmail chestplate</item>
    <item>arrow</item>
    <item>cooked beef</item>
    <item>golden apple</item>
</itemremove>
<disabledamage>
    <!-- Disable fall damage -->
    <damage>fall</damage>
</disabledamage>
    <!-- Keep it at night -->
<timelock>on</timelock>
<dimension>end</dimension>
<!--  Scoring and Flag settings  -->
<score>
    <limit>250</limit>
    <kills>0</kills>
    <deaths>0</deaths>
</score>
<killreward>
    <item amount="8">arrow</item>
	<item amount="2">cooked beef</item>
    <item>golden apple</item>
</killreward>
<flags>
    <post id="post" return-time="0s" respawn-time="6s">
        <block>0,13,0</block>
		<block>0,26,0</block>
    </post>
    <flag id="flag" name="Flag" color="white" shared="true" post="post" points-rate="1" pickup-kit="flag_pickup" drop-kit="reset-health"/>
</flags>
</map>
