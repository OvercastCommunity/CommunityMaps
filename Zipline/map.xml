<map proto="1.4.0">
<name>Zipline</name>
<version>1.0.6</version>
<objective>Hold the flag for 250 seconds to win!</objective>
<authors>
    <author uuid="1aad55f7-2dea-4f22-85ca-ad9de3a78609"/> <!--  Technodono  -->
</authors>
<rules>
    <rule>Fall damage is disabled!</rule>
	<rule>You can only respawn when your team doesn't have the flag!</rule>
	<rule>No camping inside any ziplines!</rule>
</rules>
<!--  Tips -->
<broadcasts>
    <tip after="0m" every="3m">Ziplines transport you really fast in a direction as indicated by the arrows! Use them to get around.</tip>
	<tip after="30s" every="1m">The flag can spawn at the top or bottom platform... Make sure you split up your team to have a better chance of getting the flag!</tip>
</broadcasts>
<!--  Teams and Kits  -->
<teams>
    <team id="red-team" color="dark red" max="20" max-overfill="24">Red</team>
    <team id="blue-team" color="blue" max="20" max-overfill="24">Blue</team>
</teams>
<kits>
    <kit id="spawn">
        <item slot="0" unbreakable="true">stone sword</item>
        <item slot="1" unbreakable="true">bow</item>
        <item slot="8" amount="16">arrow</item>
        <chestplate unbreakable="true">chainmail chestplate</chestplate>
        <boots unbreakable="true">chainmail boots</boots>
		<potion amplifier="25" duration="oo">night vision</potion>
    </kit>
	<kit id="obs">
        <potion amplifier="25" duration="oo">night vision</potion>
    </kit>
    <kit id="red-kit" parents="spawn">
        <helmet color="ff0000" unbreakable="true">leather helmet</helmet>
        <leggings color="ff0000" unbreakable="true">leather leggings</leggings>
    </kit>
    <kit id="blue-kit" parents="spawn">
        <helmet color="004aff" unbreakable="true">leather helmet</helmet>
        <leggings color="004aff" unbreakable="true">leather leggings</leggings>
    </kit>
    <kit id="flag-pickup" force="true">
        <potion duration="oo" amplifier="-3">health boost</potion>
        <potion duration="3" amplifier="2">absorption</potion>
    </kit>
    <kit id="reset-health" force="true">
        <potion duration="1" amplifier="0">health boost</potion>
        <potion duration="1" amplifier="10">regeneration</potion>
    </kit>
</kits>
<!--  Spawns and respawns  -->
<spawns>
    <spawn team="red-team" kit="red-kit" yaw="0" filter="no-flag">
	    <region>
            <cuboid min="-5,20,-56" max="5,20,-53"/>
		</region>
    </spawn>
    <spawn team="blue-team" kit="blue-kit" yaw="180" filter="no-flag">
	    <region>
            <cuboid min="-5,20,56" max="5,20,53"/>
		</region>
    </spawn>
    <default kit="obs" yaw="-90">
	    <region>
            <cylinder base="40.5,25,0.5" height="0" radius="1.5"/>
		</region>
    </default>
</spawns>
<respawn spectate="true">
    <message>
        { translate: "death.respawn.confirmed.waiting.flagDropped" }
    </message>
</respawn>
<!-- spawn region stuff   -->
<regions>
    <apply block="never" message="You may not edit the map!">
        <everywhere />
    </apply>
	<!-- Enter -->
    <apply enter="only-blue" message="You may not enter the opposing team's spawn!">
        <region>
            <cuboid min="25,16,51" max="-25,29,56"/>
        </region>
    </apply>
    <apply enter="only-red" message="You may not enter the opposing team's spawn!">
        <region>
            <cuboid min="-25,16,-51" max="25,29,-56"/>
        </region>
    </apply>
	<!--  Other regions  -->
	<cuboid id="spawner1" min="28,15.5,18" max="32,17,16"/>
	<cuboid id="spawner2" min="-28,15.5,18" max="-32,17,16"/>
	<cuboid id="spawner3" min="28,15.5,-18" max="32,17,-16"/>
	<cuboid id="spawner4" min="-28,15.5,-18" max="-32,17,-16"/>
	<!--  Jumpads and Boost lanes  -->
	<!--  Blue  -->
	<!--  Middle lane  -->
	<apply velocity="@0.0,0.37,-50.0" >
	    <region>
            <cuboid min="1,16,44" max="-1,16.5,12"/>
	    </region>
	</apply>
	<!--  Blue's right side  -->
	<!--  Right lanes  -->
	<apply velocity="0.0,5,0" >
	    <region>
            <cuboid min="11,16,49" max="14,18,45"/>
	    </region>
	</apply>
	<apply velocity="0.0,1,-50.0">
	    <region>
            <cuboid min="10,25,33" max="14,25.9,49"/>
	    </region>
	</apply>
	<apply velocity="-20.0,0.37,0.0" >
	    <region>
            <cuboid min="7,25,34" max="14,25.5,31"/>
	    </region>
	</apply>
	<apply velocity="0.0,0.37,-50.0" >
	    <region>
            <cuboid min="4,25,34" max="8,25.5,12"/>
	    </region>
	</apply>
	<!--  Rightmost lanes  -->
	<apply velocity="@0.0,0.37,-50.0" >
	    <region>
            <cuboid min="20,16,50" max="22,16.5,24"/>
	    </region>
	</apply>
		<apply velocity="0.0,1,-0.4" >
	    <region>
            <cuboid min="20,16,23" max="22,19,21"/>
	    </region>
	</apply>
		<apply velocity="0.0,0.7,-0.5" >
	    <region>
            <cuboid min="20,21,20" max="22,23,17"/>
	    </region>
	</apply>
	<!--  Jumpads  -->
    <apply velocity="0.6,1,0.0">
	    <region>
            <cuboid min="4,16,33" max="8,18,36"/>
	    </region>
	</apply>
    <apply velocity="0.6,1,0.0">
	    <region>
            <cuboid min="4,16,22" max="8,18,25"/>
	    </region>
	</apply>
	<!--  Blue's left side  -->
	<!--  Right lanes  -->
	<apply velocity="0.0,5,0" >
	    <region>
            <cuboid min="-11,16,48" max="-14,18,45"/>
	    </region>
	</apply>
	<apply velocity="0.0,1,-50.0" >
	    <region>
            <cuboid min="-10,25,33" max="-13,25.9,49"/>
	    </region>
	</apply>
	<apply velocity="20.0,0.37,0.0" >
	    <region>
            <cuboid min="-7,25,34" max="-13,25.5,31"/>
	    </region>
	</apply>
	<apply velocity="0.0,0.37,-50.0" >
	    <region>
            <cuboid min="-4,25,34" max="-7,25.5,12"/>
	    </region>
	</apply>
	<!--  Rightmost lanes  -->
	<apply velocity="0.0,0.37,-50.0" >
	    <region>
            <cuboid min="-20,16,50" max="-22,16.5,24"/>
	    </region>
	</apply>
		<apply velocity="0.0,1,-0.4" >
	    <region>
            <cuboid min="-20,16,23" max="-22,19,21"/>
	    </region>
	</apply>
		<apply velocity="0.0,0.7,-0.5" >
	    <region>
            <cuboid min="-20,21,20" max="-22,23,17"/>
	    </region>
	</apply>
	<!--  Jumpads  -->
    <apply velocity="-0.6,1,0.0">
	    <region>
            <cuboid min="-4,16,33" max="-7,18,36"/>
	    </region>
	</apply>
    <apply velocity="-0.6,1,0.0">
	    <region>
            <cuboid min="-4,16,21" max="-7,18,25"/>
	    </region>
	</apply>
	<!--  Red  -->
	<!--  Middle lane  -->
	<apply velocity="@0.0,0.37,50.0" >
	    <region>
            <cuboid min="1,16,-44" max="-1,16.5,-12"/>
	    </region>
	</apply>
	<!--  Red's left side  -->
	<!--  Right lanes  -->
	<apply velocity="0.0,5,0" >
	    <region>
            <cuboid min="11,16,-48" max="14,18,-45"/>
	    </region>
	</apply>
	<apply velocity="0.0,1,50.0" >
	    <region>
            <cuboid min="10,25,-30" max="14,25.9,-49"/>
	    </region>
	</apply>
	<apply velocity="-20.0,0.37,0.0" >
	    <region>
            <cuboid min="7,25,-33" max="14,25.5,-30"/>
	    </region>
	</apply>
	<apply velocity="0.0,0.37,50.0" >
	    <region>
            <cuboid min="4,25,-34" max="8,25.5,-12"/>
	    </region>
	</apply>
	
	<!--  Rightmost lanes  -->
	<apply velocity="@0.0,0.37,50.0" >
	    <region>
            <cuboid min="20,16,-50" max="22,16.5,-24"/>
	    </region>
	</apply>
		<apply velocity="0.0,1,0.4" >
	    <region>
            <cuboid min="20,16,-23" max="22,19,-21"/>
	    </region>
	</apply>
		<apply velocity="0.0,0.7,0.5" >
	    <region>
            <cuboid min="20,21,-20" max="22,23,-17"/>
	    </region>
	</apply>
	<!--  Jumpads  -->
    <apply velocity="0.6,1,0.0">
	    <region>
            <cuboid min="5,16,-32" max="8,18,-35"/>
	    </region>
	</apply>
    <apply velocity="0.6,1,0.0">
	    <region>
            <cuboid min="5,16,-21" max="8,18,-24"/>
	    </region>
	</apply>
	<!--  RED's right side  -->
	<!--  Right lanes  -->
	<apply velocity="0.0,5,0" >
	    <region>
            <cuboid min="-11,16,-49" max="-14,18,-45"/>
	    </region>
	</apply>
	<apply velocity="0.0,1,50.0" >
	    <region>
            <cuboid min="-10,25,-31" max="-13,25.9,-49"/>
	    </region>
	</apply>
		<apply velocity="20.0,0.37,0.0" >
	    <region>
            <cuboid min="-7,25,-33" max="-13,25.5,-30"/>
	    </region>
	</apply>
	<apply velocity="0.0,0.37,50.0" >
	    <region>
            <cuboid min="-4,25,-34" max="-7,25.5,-12"/>
	    </region>
	</apply>
	<!--  Rightmost lanes  -->
	<apply velocity="0.0,0.37,50.0" >
	    <region>
            <cuboid min="-20,16,-50" max="-22,16.5,-24"/>
	    </region>
	</apply>
		<apply velocity="0.0,1,0.4" >
	    <region>
            <cuboid min="-20,16,-23" max="-22,19,-21"/>
	    </region>
	</apply>
		<apply velocity="0.0,0.7,0.5" >
	    <region>
            <cuboid min="-20,21,-20" max="-22,23,-17"/>
	    </region>
	</apply>
	<!--  Jumpads  -->
    <apply velocity="-0.6,1,0.0">
	    <region>
            <cuboid min="-4,16,-32" max="-8,18,-35"/>
	    </region>
	</apply>
    <apply velocity="-0.6,1,0.0">
	    <region>
            <cuboid min="-4,16,-21" max="-8,18,-24"/>
	    </region>
	</apply>
	<!--  Middle pads  -->
    <apply velocity="-0.6,1.4,0.0">
	    <region>
            <cuboid min="-11,10,11" max="-14,12,8"/>
	    </region>
	</apply>
	<apply velocity="-0.6,1.4,0.0">
	    <region>
            <cuboid min="-11,10,-10" max="-14,12,-7"/>
	    </region>
	</apply>
	<apply velocity="0.6,1.4,0.0">
	    <region>
            <cuboid min="12,10,11" max="15,12,8"/>
	    </region>
	</apply>
	<apply velocity="0.6,1.4,0.0">
	    <region>
            <cuboid min="15,10,-10" max="12,12,-7"/>
	    </region>
	</apply>
</regions>
<!--  Filters  -->
<filters>
    <not id="no-flag">
		<same-team>
			<carrying-flag>flag</carrying-flag>
		</same-team>
	</not>
	<team id="only-blue">blue-team</team>
    <team id="only-red">red-team</team>
	<all id="blue-no-flag">
	    <not>
            <carrying-flag>flag</carrying-flag>
	    </not>
	    <team>blue-team</team>
	</all>
	<all id="red-no-flag">
	    <not>
            <carrying-flag>flag</carrying-flag>
	    </not>
	    <team>red-team</team>
	</all>
</filters>
<!--  Spawners  -->
<spawners max-entities="1" min-delay="10s" max-delay="15s">
    <spawner id="arrows1" spawn-region="spawner1" player-region="spawner1">
        <item amount="1" material="golden apple"/>
    </spawner>
	<spawner id="arrows2" spawn-region="spawner2" player-region="spawner2">
        <item amount="1" material="golden apple"/>
    </spawner>
	<spawner id="arrows3" spawn-region="spawner3" player-region="spawner3">
        <item amount="1" material="golden apple"/>
    </spawner>
	<spawner id="arrows4" spawn-region="spawner4" player-region="spawner4">
        <item amount="1" material="golden apple"/>
    </spawner>
</spawners>
<!--  Tools and Misc item stuff  -->
<toolrepair>
    <tool>stone sword</tool>
    <tool>bow</tool>
</toolrepair>
<itemremove>
	<item>leather helmet</item>
	<item>leather leggings</item>
	<item>chainmail boots</item>
	<item>chainmail chestplate</item>
	<item>cooked beef</item>
	<item>arrow</item>
</itemremove>
<disabledamage>
	<!-- Disable fall damage -->
    <damage>fall</damage>
</disabledamage>
<hunger>
	<depletion>off</depletion>
</hunger>
<!-- Keep it at night -->
<timelock>on</timelock>
<dimension>end</dimension>
<!-- Scoring and Flag settings  -->
<score>
    <limit>250</limit>
</score>
<killreward>
    <item amount="6">arrow</item>
	<item amount="1">golden apple</item>
</killreward>
<flags>
    <post id="post" return-time="0s" respawn-time="10s">
        <block>0,13,0</block>
		<block>0,26,0</block>
		<block>30,19,0</block>
		<block>-30,19,0</block>
    </post>
    <flag id="flag" name="Flag" color="orange" shared="true" post="post" points-rate="1" pickup-kit="flag-pickup" drop-kit="reset-health"/>
</flags>
</map>
